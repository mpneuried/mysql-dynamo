<!DOCTYPE html>
<html>
<head>
  <title>sql.coffee</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../", thisFile = "_src/lib/sql.coffee", defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>
</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
      <div class="heading h1">
        <a href="#sqlbuilder">SQLBuilder</a>
      </div>
      <div class="heading h3">
        <a href="#extends%20basic">extends Basic</a>
      </div>
      <div class="heading h2">
        <a href="#constructor">constructor</a>
      </div>
      <div class="heading h2">
        <a href="#initialize">initialize</a>
      </div>
      <div class="heading h1">
        <a href="#public%20methods">Public methods</a>
      </div>
      <div class="heading h2">
        <a href="#clone">clone</a>
      </div>
      <div class="heading h2">
        <a href="#insert">insert</a>
      </div>
      <div class="heading h2">
        <a href="#update">update</a>
      </div>
      <div class="heading h2">
        <a href="#select">select</a>
      </div>
      <div class="heading h2">
        <a href="#delete">delete</a>
      </div>
      <div class="heading h2">
        <a href="#filter">filter</a>
      </div>
      <div class="heading h2">
        <a href="#or">or</a>
      </div>
      <div class="heading h2">
        <a href="#and">and</a>
      </div>
      <div class="heading h2">
        <a href="#filtergroup">filterGroup</a>
      </div>
      <div class="heading h2">
        <a href="#create">create</a>
      </div>
      <div class="heading h2">
        <a href="#drop">drop</a>
      </div>
      <div class="heading h2">
        <a href="#settoarray">setToArray</a>
      </div>
      <div class="heading h1">
        <a href="#getter%20and%20setter%20methods">Getter and Setter methods</a>
      </div>
      <div class="heading h2">
        <a href="#settable">setTable</a>
      </div>
      <div class="heading h2">
        <a href="#gettable">getTable</a>
      </div>
      <div class="heading h2">
        <a href="#sethash">setHash</a>
      </div>
      <div class="heading h2">
        <a href="#gethash">getHash</a>
      </div>
      <div class="heading h2">
        <a href="#gethashkey">getHashKey</a>
      </div>
      <div class="heading h2">
        <a href="#setrange">setRange</a>
      </div>
      <div class="heading h2">
        <a href="#getrange">getRange</a>
      </div>
      <div class="heading h2">
        <a href="#getrangekey">getRangeKey</a>
      </div>
      <div class="heading h2">
        <a href="#_isrange">_isRange</a>
      </div>
      <div class="heading h2">
        <a href="#setattrs">setAttrs</a>
      </div>
      <div class="heading h2">
        <a href="#getattrs">getAttrs</a>
      </div>
      <div class="heading h2">
        <a href="#getattrkeys">getAttrKeys</a>
      </div>
      <div class="heading h2">
        <a href="#getarrayattrkeys">getArrayAttrKeys</a>
      </div>
      <div class="heading h2">
        <a href="#setforward">setForward</a>
      </div>
      <div class="heading h2">
        <a href="#getforward">getForward</a>
      </div>
      <div class="heading h2">
        <a href="#getorderfield">getOrderField</a>
      </div>
      <div class="heading h2">
        <a href="#getorderby">getOrderBy</a>
      </div>
      <div class="heading h2">
        <a href="#getwhere">getWhere</a>
      </div>
      <div class="heading h2">
        <a href="#setfields">setFields</a>
      </div>
      <div class="heading h2">
        <a href="#getfields">getFields</a>
      </div>
      <div class="heading h2">
        <a href="#setlimit">setLimit</a>
      </div>
      <div class="heading h2">
        <a href="#getlimit">getLimit</a>
      </div>
      <div class="heading h1">
        <a href="#private%20methods">Private methods</a>
      </div>
      <div class="heading h2">
        <a href="#_genrowcreate">_genRowCreate</a>
      </div>
      <div class="heading h2">
        <a href="#_validateattributes">_validateAttributes</a>
      </div>
      <div class="heading h2">
        <a href="#_getattrconfig">_getAttrConfig</a>
      </div>
      <div class="heading h2">
        <a href="#_getsavevariables">_getSaveVariables</a>
      </div>
      <div class="heading h2">
        <a href="#_generatesetcommand">_generateSetCommand</a>
      </div>
      <div class="heading h1">
        <a href="#error%20message%20mapping">Error message mapping</a>
      </div>
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container"><div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
      <tr>
        <td class="docs">
          <h1>sql.coffee</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1">&#182;</a>
</div>
<p>import the external modules</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-2" id="line-2">2</a>  <span class="nv">mysql = </span><span class="nx">require</span> <span class="s">&#39;mysql&#39;</span>
<a class="line-num" href="#line-3" id="line-3">3</a>  <span class="nv">_ = </span><span class="nx">require</span><span class="p">(</span><span class="s">&#39;lodash&#39;</span><span class="p">).</span><span class="nx">_</span>
<a class="line-num" href="#line-4" id="line-4">4</a>  
<a class="line-num" href="#line-5" id="line-5">5</a>  
<a class="line-num" href="#line-6" id="line-6">6</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="sqlbuilder">
  <h1>
    <a href="#sqlbuilder" name="sqlbuilder" class="pilcrow">&#182;</a>
    SQLBuilder
  </h1>
</div>



<div class="pilwrap" id="extends%20basic">
  <h3>
    <a href="#extends%20basic" name="extends%20basic" class="pilcrow">&#182;</a>
    extends <a href="basic.coffee.html">Basic</a>
  </h3>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-7" id="line-7">7</a>  
<a class="line-num" href="#line-8" id="line-8">8</a>  
<a class="line-num" href="#line-9" id="line-9">9</a>  
<a class="line-num" href="#line-10" id="line-10">10</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3">&#182;</a>
</div>
<p>return a method to prdefine the options fro all Instances</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-9" id="line-9">9</a>  
<a class="line-num" href="#line-10" id="line-10">10</a>  <span class="nv">module.exports = </span><span class="nf">( options )-&gt;</span>
<a class="line-num" href="#line-11" id="line-11">11</a>    
<a class="line-num" href="#line-12" id="line-12">12</a>  
<a class="line-num" href="#line-13" id="line-13">13</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4">&#182;</a>
</div>
<p>Helper to generate the sql statements</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-12" id="line-12">12</a>  
<a class="line-num" href="#line-13" id="line-13">13</a>    <span class="k">return</span> <span class="k">class</span> <span class="nx">SQLBuilder</span> <span class="k">extends</span> <span class="nx">require</span><span class="p">(</span> <span class="s">&quot;./basic&quot;</span> <span class="p">)</span>
<a class="line-num" href="#line-14" id="line-14">14</a>  
<a class="line-num" href="#line-15" id="line-15">15</a>  
<a class="line-num" href="#line-16" id="line-16">16</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5">&#182;</a>
</div>
<p>define the defaults</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-15" id="line-15">15</a>  
<a class="line-num" href="#line-16" id="line-16">16</a>      <span class="nv">defaults: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-17" id="line-17">17</a>        <span class="nx">@extend</span> <span class="k">super</span><span class="p">,</span>
<a class="line-num" href="#line-18" id="line-18">18</a>  
<a class="line-num" href="#line-19" id="line-19">19</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6">&#182;</a>
</div>
<p><strong>fields</strong> <em>String</em> MySQL default fields</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-18" id="line-18">18</a>  
<a class="line-num" href="#line-19" id="line-19">19</a>          <span class="nv">fields: </span><span class="s">&quot;*&quot;</span>
<a class="line-num" href="#line-20" id="line-20">20</a>  
<a class="line-num" href="#line-21" id="line-21">21</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7">&#182;</a>
</div>
<p><strong>limit</strong> <em>Number</em> MySQL default limit</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-20" id="line-20">20</a>  
<a class="line-num" href="#line-21" id="line-21">21</a>          <span class="nv">limit: </span><span class="mi">1000</span>
<a class="line-num" href="#line-22" id="line-22">22</a>  
<a class="line-num" href="#line-23" id="line-23">23</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8">&#182;</a>
</div>
<p><strong>hash</strong> <em>Object</em> Default hash config</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-22" id="line-22">22</a>  
<a class="line-num" href="#line-23" id="line-23">23</a>          <span class="nv">hash:</span>
<a class="line-num" href="#line-24" id="line-24">24</a>            <span class="nv">key: </span><span class="s">&quot;&quot;</span>
<a class="line-num" href="#line-25" id="line-25">25</a>            <span class="nv">type: </span><span class="s">&quot;S&quot;</span>
<a class="line-num" href="#line-26" id="line-26">26</a>            <span class="nv">required: </span><span class="kc">true</span>
<a class="line-num" href="#line-27" id="line-27">27</a>            <span class="nv">length: </span><span class="mi">5</span>
<a class="line-num" href="#line-28" id="line-28">28</a>            <span class="nv">default: </span><span class="s">&quot;&quot;</span>
<a class="line-num" href="#line-29" id="line-29">29</a>            <span class="nv">isHash: </span><span class="kc">true</span>
<a class="line-num" href="#line-30" id="line-30">30</a>  
<a class="line-num" href="#line-31" id="line-31">31</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9">&#182;</a>
</div>
<p><strong>range</strong> <em>Object</em> Default range config</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-30" id="line-30">30</a>  
<a class="line-num" href="#line-31" id="line-31">31</a>          <span class="nv">range:</span>
<a class="line-num" href="#line-32" id="line-32">32</a>            <span class="nv">key: </span><span class="s">&quot;&quot;</span>
<a class="line-num" href="#line-33" id="line-33">33</a>            <span class="nv">type: </span><span class="s">&quot;N&quot;</span>
<a class="line-num" href="#line-34" id="line-34">34</a>            <span class="nv">required: </span><span class="kc">true</span>
<a class="line-num" href="#line-35" id="line-35">35</a>            <span class="nv">length: </span><span class="mi">11</span>
<a class="line-num" href="#line-36" id="line-36">36</a>            <span class="nv">default: </span><span class="mi">0</span>
<a class="line-num" href="#line-37" id="line-37">37</a>            <span class="nv">isRange: </span><span class="kc">true</span>
<a class="line-num" href="#line-38" id="line-38">38</a>  
<a class="line-num" href="#line-39" id="line-39">39</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10">&#182;</a>
</div>
<p><strong>attr</strong> <em>Object</em> Default attribute config</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-38" id="line-38">38</a>  
<a class="line-num" href="#line-39" id="line-39">39</a>          <span class="nv">attr:</span>
<a class="line-num" href="#line-40" id="line-40">40</a>            <span class="nv">key: </span><span class="s">&quot;&quot;</span>
<a class="line-num" href="#line-41" id="line-41">41</a>            <span class="nv">type: </span><span class="s">&quot;S&quot;</span>
<a class="line-num" href="#line-42" id="line-42">42</a>            <span class="nv">required: </span><span class="kc">false</span>
<a class="line-num" href="#line-43" id="line-43">43</a>            <span class="nv">length: </span><span class="mi">255</span>
<a class="line-num" href="#line-44" id="line-44">44</a>  
<a class="line-num" href="#line-45" id="line-45">45</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11">&#182;</a>
</div>
<p><strong>sqlSetDelimiter</strong> <em>String</em> Delimiter to seperate the set values within a DB cell </p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-44" id="line-44">44</a>  
<a class="line-num" href="#line-45" id="line-45">45</a>          <span class="nv">sqlSetDelimiter: </span><span class="s">&quot;|&quot;</span>
<a class="line-num" href="#line-46" id="line-46">46</a>  
<a class="line-num" href="#line-47" id="line-47">47</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12">&#182;</a>
</div>
<p><strong>standardFilterCombine</strong> <em>String</em> Standard where expression</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-46" id="line-46">46</a>  
<a class="line-num" href="#line-47" id="line-47">47</a>          <span class="nv">standardFilterCombine: </span><span class="s">&quot;AND&quot;</span>
<a class="line-num" href="#line-48" id="line-48">48</a>  
<a class="line-num" href="#line-49" id="line-49">49</a>  
<a class="line-num" href="#line-50" id="line-50">50</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="constructor_NaN">
  <h2>
    <a href="#constructor_NaN" name="constructor_NaN" class="pilcrow">&#182;</a>
    constructor
  </h2>
</div>

  </div>
  <div class="body"><p><code>new SQLBuilder( _c )</code></p>

<p>A SQL Builder instance to generate SQL statements</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">_c</span>
      <span class="dox_type">Object</span>
      <span>Basic internal config data. Used to clone a Instance</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-57" id="line-57">57</a>  
<a class="line-num" href="#line-58" id="line-58">58</a>      <span class="nv">constructor: </span><span class="nf">( @_c = {} )-&gt;</span>
<a class="line-num" href="#line-59" id="line-59">59</a>  
<a class="line-num" href="#line-60" id="line-60">60</a>  
<a class="line-num" href="#line-61" id="line-61">61</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14">&#182;</a>
</div>
<p>set some internal keys</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-60" id="line-60">60</a>  
<a class="line-num" href="#line-61" id="line-61">61</a>        <span class="nx">@_c</span><span class="p">.</span><span class="nx">attrs</span> <span class="o">or=</span> <span class="p">[]</span>
<a class="line-num" href="#line-62" id="line-62">62</a>        <span class="nx">@_c</span><span class="p">.</span><span class="nx">attrKeys</span> <span class="o">or=</span> <span class="p">[]</span>
<a class="line-num" href="#line-63" id="line-63">63</a>        <span class="nx">@_c</span><span class="p">.</span><span class="nx">attrsArrayKeys</span> <span class="o">or=</span> <span class="p">[]</span>
<a class="line-num" href="#line-64" id="line-64">64</a>  
<a class="line-num" href="#line-65" id="line-65">65</a>        <span class="k">super</span><span class="p">(</span> <span class="nx">options</span> <span class="p">)</span>
<a class="line-num" href="#line-66" id="line-66">66</a>        <span class="k">return</span>
<a class="line-num" href="#line-67" id="line-67">67</a>  
<a class="line-num" href="#line-68" id="line-68">68</a>  
<a class="line-num" href="#line-69" id="line-69">69</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="initialize">
  <h2>
    <a href="#initialize" name="initialize" class="pilcrow">&#182;</a>
    initialize
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.initialize()</code></p>

<p>Initialize the SQLBuilder Ã¡nd define the properties</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-76" id="line-76">76</a>  
<a class="line-num" href="#line-77" id="line-77">77</a>      <span class="nv">initialize: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-78" id="line-78">78</a>        <span class="nx">@define</span><span class="p">(</span> <span class="s">&quot;table&quot;</span><span class="p">,</span> <span class="nx">@getTable</span><span class="p">,</span> <span class="nx">@setTable</span> <span class="p">)</span>
<a class="line-num" href="#line-79" id="line-79">79</a>  
<a class="line-num" href="#line-80" id="line-80">80</a>        <span class="nx">@define</span><span class="p">(</span> <span class="s">&quot;hash&quot;</span><span class="p">,</span> <span class="nx">@getHash</span><span class="p">,</span> <span class="nx">@setHash</span> <span class="p">)</span>
<a class="line-num" href="#line-81" id="line-81">81</a>  
<a class="line-num" href="#line-82" id="line-82">82</a>        <span class="nx">@getter</span><span class="p">(</span> <span class="s">&quot;hashkey&quot;</span><span class="p">,</span> <span class="nx">@getHashKey</span> <span class="p">)</span>
<a class="line-num" href="#line-83" id="line-83">83</a>  
<a class="line-num" href="#line-84" id="line-84">84</a>        <span class="nx">@define</span><span class="p">(</span> <span class="s">&quot;range&quot;</span><span class="p">,</span> <span class="nx">@getRange</span><span class="p">,</span> <span class="nx">@setRange</span> <span class="p">)</span>
<a class="line-num" href="#line-85" id="line-85">85</a>  
<a class="line-num" href="#line-86" id="line-86">86</a>        <span class="nx">@getter</span><span class="p">(</span> <span class="s">&quot;rangekey&quot;</span><span class="p">,</span> <span class="nx">@getRangeKey</span> <span class="p">)</span>
<a class="line-num" href="#line-87" id="line-87">87</a>  
<a class="line-num" href="#line-88" id="line-88">88</a>        <span class="nx">@getter</span><span class="p">(</span> <span class="s">&quot;isRange&quot;</span><span class="p">,</span> <span class="nx">@_isRange</span> <span class="p">)</span>
<a class="line-num" href="#line-89" id="line-89">89</a>  
<a class="line-num" href="#line-90" id="line-90">90</a>        <span class="nx">@define</span><span class="p">(</span> <span class="s">&quot;attrs&quot;</span><span class="p">,</span> <span class="nx">@getAttrs</span><span class="p">,</span> <span class="nx">@setAttrs</span> <span class="p">)</span>
<a class="line-num" href="#line-91" id="line-91">91</a>  
<a class="line-num" href="#line-92" id="line-92">92</a>        <span class="nx">@getter</span><span class="p">(</span> <span class="s">&quot;attrKeys&quot;</span><span class="p">,</span> <span class="nx">@getAttrKeys</span> <span class="p">)</span>
<a class="line-num" href="#line-93" id="line-93">93</a>  
<a class="line-num" href="#line-94" id="line-94">94</a>        <span class="nx">@getter</span><span class="p">(</span> <span class="s">&quot;attrArrayKeys&quot;</span><span class="p">,</span> <span class="nx">@getArrayAttrKeys</span> <span class="p">)</span>
<a class="line-num" href="#line-95" id="line-95">95</a>  
<a class="line-num" href="#line-96" id="line-96">96</a>        <span class="nx">@define</span><span class="p">(</span> <span class="s">&quot;fields&quot;</span><span class="p">,</span> <span class="nx">@getFields</span><span class="p">,</span> <span class="nx">@setFields</span> <span class="p">)</span>
<a class="line-num" href="#line-97" id="line-97">97</a>  
<a class="line-num" href="#line-98" id="line-98">98</a>        <span class="nx">@define</span><span class="p">(</span> <span class="s">&quot;limit&quot;</span><span class="p">,</span> <span class="nx">@getLimit</span><span class="p">,</span> <span class="nx">@setLimit</span> <span class="p">)</span>
<a class="line-num" href="#line-99" id="line-99">99</a>  
<a class="line-num" href="#line-100" id="line-100">100</a>        <span class="nx">@define</span><span class="p">(</span> <span class="s">&quot;forward&quot;</span><span class="p">,</span> <span class="nx">@getForward</span><span class="p">,</span> <span class="nx">@setForward</span> <span class="p">)</span>
<a class="line-num" href="#line-101" id="line-101">101</a>  
<a class="line-num" href="#line-102" id="line-102">102</a>        <span class="nx">@getter</span><span class="p">(</span> <span class="s">&quot;orderby&quot;</span><span class="p">,</span> <span class="nx">@getOrderBy</span> <span class="p">)</span>
<a class="line-num" href="#line-103" id="line-103">103</a>  
<a class="line-num" href="#line-104" id="line-104">104</a>        <span class="nx">@getter</span><span class="p">(</span> <span class="s">&quot;orderfield&quot;</span><span class="p">,</span> <span class="nx">@getOrderField</span> <span class="p">)</span>
<a class="line-num" href="#line-105" id="line-105">105</a>  
<a class="line-num" href="#line-106" id="line-106">106</a>        <span class="nx">@getter</span><span class="p">(</span> <span class="s">&quot;where&quot;</span><span class="p">,</span> <span class="nx">@getWhere</span> <span class="p">)</span>
<a class="line-num" href="#line-107" id="line-107">107</a>  
<a class="line-num" href="#line-108" id="line-108">108</a>        <span class="nx">@log</span> <span class="s">&quot;debug&quot;</span><span class="p">,</span> <span class="s">&quot;initialized&quot;</span>
<a class="line-num" href="#line-109" id="line-109">109</a>  
<a class="line-num" href="#line-110" id="line-110">110</a>        <span class="k">return</span>
<a class="line-num" href="#line-111" id="line-111">111</a>  
<a class="line-num" href="#line-112" id="line-112">112</a>  
<a class="line-num" href="#line-113" id="line-113">113</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="public%20methods">
  <h1>
    <a href="#public%20methods" name="public%20methods" class="pilcrow">&#182;</a>
    Public methods
  </h1>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-112" id="line-112">112</a>  
<a class="line-num" href="#line-113" id="line-113">113</a>      
<a class="line-num" href="#line-114" id="line-114">114</a>  
<a class="line-num" href="#line-115" id="line-115">115</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="clone">
  <h2>
    <a href="#clone" name="clone" class="pilcrow">&#182;</a>
    clone
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.clone()</code></p>

<p>Clone the current state of the SQLBuilder</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">SQLBuilder</span>
      <span>The cloned Instance</span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">public
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-124" id="line-124">124</a>  
<a class="line-num" href="#line-125" id="line-125">125</a>      <span class="nv">clone: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-126" id="line-126">126</a>        <span class="nx">@log</span> <span class="s">&quot;debug&quot;</span><span class="p">,</span> <span class="s">&quot;run clone&quot;</span><span class="p">,</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span> <span class="nx">@_c</span> <span class="p">)</span>
<a class="line-num" href="#line-127" id="line-127">127</a>        <span class="k">return</span> <span class="k">new</span> <span class="nx">SQLBuilder</span><span class="p">(</span> <span class="nx">_</span><span class="p">.</span><span class="nx">clone</span><span class="p">(</span> <span class="nx">@_c</span> <span class="p">)</span> <span class="p">)</span>
<a class="line-num" href="#line-128" id="line-128">128</a>  
<a class="line-num" href="#line-129" id="line-129">129</a>  
<a class="line-num" href="#line-130" id="line-130">130</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="insert">
  <h2>
    <a href="#insert" name="insert" class="pilcrow">&#182;</a>
    insert
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.insert( attributes )</code></p>

<p>Create a insert statement</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">attributes</span>
      <span class="dox_type">Object</span>
      <span>Attributes to save </span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">String</span>
      <span>Insert statement </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">public
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-141" id="line-141">141</a>  
<a class="line-num" href="#line-142" id="line-142">142</a>      <span class="nv">insert: </span><span class="nf">( attributes )=&gt;</span>
<a class="line-num" href="#line-143" id="line-143">143</a>  
<a class="line-num" href="#line-144" id="line-144">144</a>        <span class="nv">attributes = </span><span class="nx">@_validateAttributes</span><span class="p">(</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">attributes</span> <span class="p">)</span>
<a class="line-num" href="#line-145" id="line-145">145</a>  
<a class="line-num" href="#line-146" id="line-146">146</a>        <span class="nv">statement = </span><span class="p">[]</span>
<a class="line-num" href="#line-147" id="line-147">147</a>        <span class="nx">statement</span><span class="p">.</span><span class="nx">push</span> <span class="s">&quot;INSERT INTO </span><span class="si">#{</span> <span class="nx">@table</span> <span class="si">}</span><span class="s">&quot;</span>
<a class="line-num" href="#line-148" id="line-148">148</a>  
<a class="line-num" href="#line-149" id="line-149">149</a>        <span class="p">[</span> <span class="nx">_keys</span><span class="p">,</span> <span class="nx">_vals</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">@_getSaveVariables</span><span class="p">(</span> <span class="nx">attributes</span> <span class="p">)</span>
<a class="line-num" href="#line-150" id="line-150">150</a>        
<a class="line-num" href="#line-151" id="line-151">151</a>        <span class="nx">statement</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="s">&quot;( </span><span class="si">#{</span> <span class="nx">_keys</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span> <span class="s">&quot;, &quot;</span> <span class="p">)</span><span class="si">}</span><span class="s"> )&quot;</span> <span class="p">)</span> 
<a class="line-num" href="#line-152" id="line-152">152</a>        <span class="nx">statement</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="s">&quot;VALUES ( </span><span class="si">#{</span> <span class="nx">_vals</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span> <span class="s">&quot;, &quot;</span> <span class="p">)</span> <span class="si">}</span><span class="s"> )&quot;</span> <span class="p">)</span>
<a class="line-num" href="#line-153" id="line-153">153</a>        <span class="k">return</span> <span class="nx">_</span><span class="p">.</span><span class="nx">compact</span><span class="p">(</span> <span class="nx">statement</span> <span class="p">).</span><span class="nx">join</span><span class="p">(</span> <span class="s">&quot;\n&quot;</span> <span class="p">)</span>
<a class="line-num" href="#line-154" id="line-154">154</a>  
<a class="line-num" href="#line-155" id="line-155">155</a>  
<a class="line-num" href="#line-156" id="line-156">156</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="update">
  <h2>
    <a href="#update" name="update" class="pilcrow">&#182;</a>
    update
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.update( attributes )</code></p>

<p>Create a update statement</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">attributes</span>
      <span class="dox_type">Object</span>
      <span>Attributes to update </span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">String</span>
      <span>update statement </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">public
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-167" id="line-167">167</a>  
<a class="line-num" href="#line-168" id="line-168">168</a>      <span class="nv">update: </span><span class="nf">( attributes )=&gt;</span>
<a class="line-num" href="#line-169" id="line-169">169</a>  
<a class="line-num" href="#line-170" id="line-170">170</a>        <span class="nv">attributes = </span><span class="nx">@_validateAttributes</span><span class="p">(</span> <span class="kc">false</span><span class="p">,</span> <span class="nx">attributes</span> <span class="p">)</span>
<a class="line-num" href="#line-171" id="line-171">171</a>  
<a class="line-num" href="#line-172" id="line-172">172</a>        <span class="nv">statement = </span><span class="p">[]</span>
<a class="line-num" href="#line-173" id="line-173">173</a>        <span class="nx">statement</span><span class="p">.</span><span class="nx">push</span> <span class="s">&quot;UPDATE </span><span class="si">#{</span> <span class="nx">@table</span> <span class="si">}</span><span class="s">&quot;</span>
<a class="line-num" href="#line-174" id="line-174">174</a>  
<a class="line-num" href="#line-175" id="line-175">175</a>        <span class="p">[</span> <span class="nx">_keys</span><span class="p">,</span> <span class="nx">_vals</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">@_getSaveVariables</span><span class="p">(</span> <span class="nx">attributes</span> <span class="p">)</span>
<a class="line-num" href="#line-176" id="line-176">176</a>  
<a class="line-num" href="#line-177" id="line-177">177</a>        <span class="nv">_sets = </span><span class="p">[]</span>
<a class="line-num" href="#line-178" id="line-178">178</a>        <span class="k">for</span> <span class="nx">_key</span><span class="p">,</span> <span class="nx">_idx</span> <span class="k">in</span> <span class="nx">_keys</span>
<a class="line-num" href="#line-179" id="line-179">179</a>          <span class="nx">_sets</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="s">&quot;</span><span class="si">#{</span> <span class="nx">_key</span> <span class="si">}</span><span class="s"> = </span><span class="si">#{</span> <span class="nx">_vals</span><span class="p">[</span> <span class="nx">_idx</span> <span class="p">]</span> <span class="si">}</span><span class="s">&quot;</span> <span class="p">)</span> 
<a class="line-num" href="#line-180" id="line-180">180</a>        
<a class="line-num" href="#line-181" id="line-181">181</a>        <span class="nx">statement</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="s">&quot;SET </span><span class="si">#{</span> <span class="nx">_sets</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span> <span class="s">&quot;, &quot;</span> <span class="p">)</span> <span class="si">}</span><span class="s">&quot;</span> <span class="p">)</span>
<a class="line-num" href="#line-182" id="line-182">182</a>  
<a class="line-num" href="#line-183" id="line-183">183</a>        <span class="nx">statement</span><span class="p">.</span><span class="nx">push</span> <span class="nx">@where</span>
<a class="line-num" href="#line-184" id="line-184">184</a>  
<a class="line-num" href="#line-185" id="line-185">185</a>        <span class="k">return</span> <span class="nx">_</span><span class="p">.</span><span class="nx">compact</span><span class="p">(</span> <span class="nx">statement</span> <span class="p">).</span><span class="nx">join</span><span class="p">(</span> <span class="s">&quot;\n&quot;</span> <span class="p">)</span>
<a class="line-num" href="#line-186" id="line-186">186</a>  
<a class="line-num" href="#line-187" id="line-187">187</a>  
<a class="line-num" href="#line-188" id="line-188">188</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="select">
  <h2>
    <a href="#select" name="select" class="pilcrow">&#182;</a>
    select
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.select( [complex] )</code></p>

<p>Create a select statement</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">complex</span>
      <span class="dox_type">Boolean</span>
      <span>Create a complex select with order by and select</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">String</span>
      <span>select statement </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">public
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-199" id="line-199">199</a>  
<a class="line-num" href="#line-200" id="line-200">200</a>      <span class="nv">select: </span><span class="nf">( complex = true )=&gt;</span>
<a class="line-num" href="#line-201" id="line-201">201</a>  
<a class="line-num" href="#line-202" id="line-202">202</a>        <span class="nv">statement = </span><span class="p">[]</span>
<a class="line-num" href="#line-203" id="line-203">203</a>        <span class="nx">statement</span><span class="p">.</span><span class="nx">push</span> <span class="s">&quot;SELECT </span><span class="si">#{</span> <span class="nx">@fields</span> <span class="si">}</span><span class="s">&quot;</span>
<a class="line-num" href="#line-204" id="line-204">204</a>        <span class="nx">statement</span><span class="p">.</span><span class="nx">push</span> <span class="s">&quot;FROM </span><span class="si">#{</span> <span class="nx">@table</span> <span class="si">}</span><span class="s">&quot;</span>
<a class="line-num" href="#line-205" id="line-205">205</a>  
<a class="line-num" href="#line-206" id="line-206">206</a>        <span class="nx">statement</span><span class="p">.</span><span class="nx">push</span> <span class="nx">@where</span>
<a class="line-num" href="#line-207" id="line-207">207</a>  
<a class="line-num" href="#line-208" id="line-208">208</a>        <span class="k">if</span> <span class="nx">complex</span>
<a class="line-num" href="#line-209" id="line-209">209</a>          <span class="nx">statement</span><span class="p">.</span><span class="nx">push</span> <span class="nx">@orderby</span>
<a class="line-num" href="#line-210" id="line-210">210</a>  
<a class="line-num" href="#line-211" id="line-211">211</a>          <span class="nx">statement</span><span class="p">.</span><span class="nx">push</span> <span class="nx">@limit</span>
<a class="line-num" href="#line-212" id="line-212">212</a>  
<a class="line-num" href="#line-213" id="line-213">213</a>        <span class="k">return</span> <span class="nx">_</span><span class="p">.</span><span class="nx">compact</span><span class="p">(</span> <span class="nx">statement</span> <span class="p">).</span><span class="nx">join</span><span class="p">(</span> <span class="s">&quot;\n&quot;</span> <span class="p">)</span>
<a class="line-num" href="#line-214" id="line-214">214</a>  
<a class="line-num" href="#line-215" id="line-215">215</a>  
<a class="line-num" href="#line-216" id="line-216">216</a>  
<a class="line-num" href="#line-217" id="line-217">217</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="delete">
  <h2>
    <a href="#delete" name="delete" class="pilcrow">&#182;</a>
    delete
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.delete( [complex] )</code></p>

<p>Create a delete statement</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">String</span>
      <span>delete statement </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">public
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-226" id="line-226">226</a>  
<a class="line-num" href="#line-227" id="line-227">227</a>      <span class="nv">del: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-228" id="line-228">228</a>        <span class="nv">statement = </span><span class="p">[]</span>
<a class="line-num" href="#line-229" id="line-229">229</a>        <span class="nx">statement</span><span class="p">.</span><span class="nx">push</span> <span class="s">&quot;DELETE&quot;</span>
<a class="line-num" href="#line-230" id="line-230">230</a>        <span class="nx">statement</span><span class="p">.</span><span class="nx">push</span> <span class="s">&quot;FROM </span><span class="si">#{</span> <span class="nx">@table</span> <span class="si">}</span><span class="s">&quot;</span>
<a class="line-num" href="#line-231" id="line-231">231</a>  
<a class="line-num" href="#line-232" id="line-232">232</a>        <span class="nx">statement</span><span class="p">.</span><span class="nx">push</span> <span class="nx">@where</span>
<a class="line-num" href="#line-233" id="line-233">233</a>  
<a class="line-num" href="#line-234" id="line-234">234</a>        <span class="k">return</span> <span class="nx">_</span><span class="p">.</span><span class="nx">compact</span><span class="p">(</span> <span class="nx">statement</span> <span class="p">).</span><span class="nx">join</span><span class="p">(</span> <span class="s">&quot;\n&quot;</span> <span class="p">)</span>
<a class="line-num" href="#line-235" id="line-235">235</a>  
<a class="line-num" href="#line-236" id="line-236">236</a>  
<a class="line-num" href="#line-237" id="line-237">237</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="filter">
  <h2>
    <a href="#filter" name="filter" class="pilcrow">&#182;</a>
    filter
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.filter( key, pred )</code></p>

<p>Define a filter criteria which will be used by the <code>.getWhere()</code> method</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">key</span>
      <span class="dox_type">String</span>
      <span class="dox_type">Object</span>
      <span>The filter key or a Object of key and predicate </span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">pred</span>
      <span class="dox_type">Object</span>
      <span class="dox_type">String</span>
      <span class="dox_type">Number</span>
      <span>A prediucate object. For details see <a href="https://github.com/jed/dynamo/wiki/High-level-API#wiki-predicates">Jed's Predicates </a></span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">SQLBuilder</span>
      <span>Returns itself for chaining</span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">public
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-249" id="line-249">249</a>  
<a class="line-num" href="#line-250" id="line-250">250</a>      <span class="nv">filter: </span><span class="nf">( key, pred )=&gt;</span>
<a class="line-num" href="#line-251" id="line-251">251</a>  
<a class="line-num" href="#line-252" id="line-252">252</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23">&#182;</a>
</div>
<p>set the filter array if not defined yet</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-251" id="line-251">251</a>  
<a class="line-num" href="#line-252" id="line-252">252</a>        <span class="nx">@_c</span><span class="p">.</span><span class="nx">filters</span> <span class="o">or=</span> <span class="p">[]</span>
<a class="line-num" href="#line-253" id="line-253">253</a>        <span class="nx">@log</span> <span class="s">&quot;debug&quot;</span><span class="p">,</span> <span class="s">&quot;filter&quot;</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">pred</span>
<a class="line-num" href="#line-254" id="line-254">254</a>  
<a class="line-num" href="#line-255" id="line-255">255</a>  
<a class="line-num" href="#line-256" id="line-256">256</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24">&#182;</a>
</div>
<p>run this method recrusive if its defined as a object</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-255" id="line-255">255</a>  
<a class="line-num" href="#line-256" id="line-256">256</a>        <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isObject</span><span class="p">(</span> <span class="nx">key</span> <span class="p">)</span>
<a class="line-num" href="#line-257" id="line-257">257</a>          <span class="k">for</span> <span class="nx">_k</span><span class="p">,</span> <span class="nx">_pred</span> <span class="k">of</span> <span class="nx">key</span>
<a class="line-num" href="#line-258" id="line-258">258</a>            <span class="nx">@filter</span><span class="p">(</span> <span class="nx">_k</span><span class="p">,</span> <span class="nx">_pred</span> <span class="p">)</span>
<a class="line-num" href="#line-259" id="line-259">259</a>        <span class="k">else</span>
<a class="line-num" href="#line-260" id="line-260">260</a>  
<a class="line-num" href="#line-261" id="line-261">261</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-25" id="section-25">&#182;</a>
</div>
<p>create the SQL where statement</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-260" id="line-260">260</a>  
<a class="line-num" href="#line-261" id="line-261">261</a>          <span class="nv">_filter = </span><span class="s">&quot;</span><span class="si">#{</span> <span class="nx">key</span> <span class="si">}</span><span class="s"> &quot;</span>
<a class="line-num" href="#line-262" id="line-262">262</a>  
<a class="line-num" href="#line-263" id="line-263">263</a>          <span class="k">if</span> <span class="o">not</span> <span class="nx">pred</span><span class="o">?</span>
<a class="line-num" href="#line-264" id="line-264">264</a>  
<a class="line-num" href="#line-265" id="line-265">265</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-26" id="section-26">&#182;</a>
</div>
<p>is null if pred is <code>null</code></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-264" id="line-264">264</a>  
<a class="line-num" href="#line-265" id="line-265">265</a>            <span class="nx">_filter</span> <span class="o">+=</span> <span class="s">&quot;is NULL&quot;</span>
<a class="line-num" href="#line-266" id="line-266">266</a>          <span class="k">else</span> <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span><span class="p">(</span> <span class="nx">pred</span> <span class="p">)</span> <span class="o">or</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isNumber</span><span class="p">(</span> <span class="nx">pred</span> <span class="p">)</span>
<a class="line-num" href="#line-267" id="line-267">267</a>  
<a class="line-num" href="#line-268" id="line-268">268</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-27" id="section-27">&#182;</a>
</div>
<p>simple <code>=</code> filter</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-267" id="line-267">267</a>  
<a class="line-num" href="#line-268" id="line-268">268</a>            <span class="nx">_filter</span> <span class="o">+=</span> <span class="s">&quot;= </span><span class="si">#{</span> <span class="nx">mysql</span><span class="p">.</span><span class="nx">escape</span><span class="p">(</span> <span class="nx">pred</span> <span class="p">)</span> <span class="si">}</span><span class="s">&quot;</span>
<a class="line-num" href="#line-269" id="line-269">269</a>          <span class="k">else</span>
<a class="line-num" href="#line-270" id="line-270">270</a>  
<a class="line-num" href="#line-271" id="line-271">271</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-28" id="section-28">&#182;</a>
</div>
<p>complex predicate filter</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-270" id="line-270">270</a>  
<a class="line-num" href="#line-271" id="line-271">271</a>            <span class="nv">_operand = </span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span> <span class="nx">pred</span> <span class="p">)[</span> <span class="mi">0</span> <span class="p">]</span>
<a class="line-num" href="#line-272" id="line-272">272</a>            <span class="nv">_val = </span><span class="nx">pred</span><span class="p">[</span> <span class="nx">_operand</span> <span class="p">]</span>
<a class="line-num" href="#line-273" id="line-273">273</a>            <span class="k">switch</span> <span class="nx">_operand</span>
<a class="line-num" href="#line-274" id="line-274">274</a>              <span class="k">when</span> <span class="s">&quot;==&quot;</span>
<a class="line-num" href="#line-275" id="line-275">275</a>  
<a class="line-num" href="#line-276" id="line-276">276</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-29" id="section-29">&#182;</a>
</div>
<p><code>column is NULL</code></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-275" id="line-275">275</a>  
<a class="line-num" href="#line-276" id="line-276">276</a>                <span class="nx">_filter</span> <span class="o">+=</span> <span class="k">if</span> <span class="nx">_val</span><span class="o">?</span> <span class="k">then</span> <span class="s">&quot;= </span><span class="si">#{</span> <span class="nx">mysql</span><span class="p">.</span><span class="nx">escape</span><span class="p">(</span> <span class="nx">_val</span> <span class="p">)</span> <span class="si">}</span><span class="s">&quot;</span> <span class="k">else</span> <span class="s">&quot;is NULL&quot;</span>
<a class="line-num" href="#line-277" id="line-277">277</a>              <span class="k">when</span> <span class="s">&quot;!=&quot;</span>
<a class="line-num" href="#line-278" id="line-278">278</a>  
<a class="line-num" href="#line-279" id="line-279">279</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-30" id="section-30">&#182;</a>
</div>
<p><code>column is not NULL</code></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-278" id="line-278">278</a>  
<a class="line-num" href="#line-279" id="line-279">279</a>                <span class="nx">_filter</span> <span class="o">+=</span> <span class="k">if</span> <span class="nx">_val</span><span class="o">?</span> <span class="k">then</span> <span class="s">&quot;!= </span><span class="si">#{</span> <span class="nx">mysql</span><span class="p">.</span><span class="nx">escape</span><span class="p">(</span> <span class="nx">_val</span> <span class="p">)</span> <span class="si">}</span><span class="s">&quot;</span> <span class="k">else</span> <span class="s">&quot;is not NULL&quot;</span>
<a class="line-num" href="#line-280" id="line-280">280</a>              <span class="k">when</span> <span class="s">&quot;&gt;&quot;</span><span class="p">,</span> <span class="s">&quot;&lt;&quot;</span><span class="p">,</span> <span class="s">&quot;&lt;=&quot;</span><span class="p">,</span> <span class="s">&quot;&gt;=&quot;</span>
<a class="line-num" href="#line-281" id="line-281">281</a>  
<a class="line-num" href="#line-282" id="line-282">282</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-31" id="section-31">&#182;</a>
</div>
<p><code>column &gt; ?</code>, <code>column &lt; ?</code>, <code>column &gt;= ?</code> or <code>column &lt;= ?</code> or for an array <code>column between ?[0] and ?[1]</code></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-281" id="line-281">281</a>  
<a class="line-num" href="#line-282" id="line-282">282</a>                <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span> <span class="nx">_val</span> <span class="p">)</span>
<a class="line-num" href="#line-283" id="line-283">283</a>                  <span class="nx">_filter</span> <span class="o">+=</span> <span class="s">&quot;between </span><span class="si">#{</span> <span class="nx">mysql</span><span class="p">.</span><span class="nx">escape</span><span class="p">(</span> <span class="nx">_val</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="p">)</span> <span class="si">}</span><span class="s"> and </span><span class="si">#{</span> <span class="nx">mysql</span><span class="p">.</span><span class="nx">escape</span><span class="p">(</span> <span class="nx">_val</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="p">)</span> <span class="si">}</span><span class="s">&quot;</span>
<a class="line-num" href="#line-284" id="line-284">284</a>                <span class="k">else</span>
<a class="line-num" href="#line-285" id="line-285">285</a>                  <span class="nx">_filter</span> <span class="o">+=</span> <span class="s">&quot;</span><span class="si">#{</span> <span class="nx">_operand</span> <span class="si">}</span><span class="s"> </span><span class="si">#{</span> <span class="nx">mysql</span><span class="p">.</span><span class="nx">escape</span><span class="p">(</span> <span class="nx">_val</span> <span class="p">)</span> <span class="si">}</span><span class="s">&quot;</span>
<a class="line-num" href="#line-286" id="line-286">286</a>              <span class="k">when</span> <span class="s">&quot;contains&quot;</span>
<a class="line-num" href="#line-287" id="line-287">287</a>  
<a class="line-num" href="#line-288" id="line-288">288</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-32" id="section-32">&#182;</a>
</div>
<p><code>column like "%?%"</code></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-287" id="line-287">287</a>  
<a class="line-num" href="#line-288" id="line-288">288</a>                <span class="nx">_filter</span> <span class="o">+=</span> <span class="s">&quot;like &#39;</span><span class="si">#{</span> <span class="nx">mysql</span><span class="p">.</span><span class="nx">escape</span><span class="p">(</span> <span class="s">&quot;%&quot;</span> <span class="o">+</span> <span class="nx">_val</span> <span class="o">+</span> <span class="s">&quot;%&quot;</span> <span class="p">)</span> <span class="si">}</span><span class="s">&#39;&quot;</span>
<a class="line-num" href="#line-289" id="line-289">289</a>              <span class="k">when</span> <span class="s">&quot;!contains&quot;</span>
<a class="line-num" href="#line-290" id="line-290">290</a>  
<a class="line-num" href="#line-291" id="line-291">291</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-33" id="section-33">&#182;</a>
</div>
<p><code>column not like "%?%"</code></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-290" id="line-290">290</a>  
<a class="line-num" href="#line-291" id="line-291">291</a>                <span class="nx">_filter</span> <span class="o">+=</span> <span class="s">&quot;not like &#39;</span><span class="si">#{</span> <span class="nx">mysql</span><span class="p">.</span><span class="nx">escape</span><span class="p">(</span> <span class="s">&quot;%&quot;</span> <span class="o">+</span> <span class="nx">_val</span> <span class="o">+</span> <span class="s">&quot;%&quot;</span> <span class="p">)</span> <span class="si">}</span><span class="s">&#39;&quot;</span>
<a class="line-num" href="#line-292" id="line-292">292</a>              <span class="k">when</span> <span class="s">&quot;startsWith&quot;</span>
<a class="line-num" href="#line-293" id="line-293">293</a>  
<a class="line-num" href="#line-294" id="line-294">294</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-34" id="section-34">&#182;</a>
</div>
<p><code>column like "?%"</code></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-293" id="line-293">293</a>  
<a class="line-num" href="#line-294" id="line-294">294</a>                <span class="nx">_filter</span> <span class="o">+=</span> <span class="s">&quot;like &#39;</span><span class="si">#{</span> <span class="nx">mysql</span><span class="p">.</span><span class="nx">escape</span><span class="p">(</span> <span class="nx">_val</span> <span class="o">+</span> <span class="s">&quot;%&quot;</span> <span class="p">)</span> <span class="si">}</span><span class="s">&#39;&quot;</span>
<a class="line-num" href="#line-295" id="line-295">295</a>              <span class="k">when</span> <span class="s">&quot;in&quot;</span>
<a class="line-num" href="#line-296" id="line-296">296</a>  
<a class="line-num" href="#line-297" id="line-297">297</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-35" id="section-35">&#182;</a>
</div>
<p><code>column in ( ?[0], ?[1], ... ?[n] )</code></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-296" id="line-296">296</a>  
<a class="line-num" href="#line-297" id="line-297">297</a>                <span class="k">if</span> <span class="o">not</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span> <span class="nx">_val</span> <span class="p">)</span>
<a class="line-num" href="#line-298" id="line-298">298</a>                  <span class="nv">_val = </span><span class="p">[</span> <span class="nx">_val</span> <span class="p">]</span>
<a class="line-num" href="#line-299" id="line-299">299</a>                <span class="nx">_filter</span> <span class="o">+=</span> <span class="s">&quot;in ( &#39;</span><span class="si">#{</span> <span class="nx">mysql</span><span class="p">.</span><span class="nx">escape</span><span class="p">(</span> <span class="nx">_val</span> <span class="p">)</span> <span class="si">}</span><span class="s">&#39;)&quot;</span>
<a class="line-num" href="#line-300" id="line-300">300</a>          
<a class="line-num" href="#line-301" id="line-301">301</a>  
<a class="line-num" href="#line-302" id="line-302">302</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-36" id="section-36">&#182;</a>
</div>
<p>combine the filters with a <code>AND</code> or an <code>OR</code></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-301" id="line-301">301</a>  
<a class="line-num" href="#line-302" id="line-302">302</a>          <span class="k">if</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">filters</span><span class="o">?</span><span class="p">.</span><span class="nx">length</span>
<a class="line-num" href="#line-303" id="line-303">303</a>            <span class="nv">_cbn = </span><span class="k">if</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">_filterCombine</span> <span class="k">then</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">_filterCombine</span> <span class="k">else</span> <span class="nx">@config</span><span class="p">.</span><span class="nx">standardFilterCombine</span>
<a class="line-num" href="#line-304" id="line-304">304</a>            <span class="nx">@_c</span><span class="p">.</span><span class="nx">filters</span><span class="p">.</span><span class="nx">push</span> <span class="nx">_cbn</span>
<a class="line-num" href="#line-305" id="line-305">305</a>  
<a class="line-num" href="#line-306" id="line-306">306</a>          <span class="nx">@_c</span><span class="p">.</span><span class="nx">filters</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">_filter</span> <span class="p">)</span>
<a class="line-num" href="#line-307" id="line-307">307</a>  
<a class="line-num" href="#line-308" id="line-308">308</a>          <span class="vi">@_c._filterCombine = </span><span class="kc">null</span>
<a class="line-num" href="#line-309" id="line-309">309</a>  
<a class="line-num" href="#line-310" id="line-310">310</a>        <span class="nx">@</span>
<a class="line-num" href="#line-311" id="line-311">311</a>  
<a class="line-num" href="#line-312" id="line-312">312</a>  
<a class="line-num" href="#line-313" id="line-313">313</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="or">
  <h2>
    <a href="#or" name="or" class="pilcrow">&#182;</a>
    or
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.or()</code></p>

<p>Combine next filter with an <code>OR</code></p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">SQLBuilder</span>
      <span>Returns itself for chaining</span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">public
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-322" id="line-322">322</a>  
<a class="line-num" href="#line-323" id="line-323">323</a>      <span class="o">or:</span> <span class="o">=&gt;</span>
<a class="line-num" href="#line-324" id="line-324">324</a>        <span class="k">if</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">filters</span><span class="o">?</span><span class="p">.</span><span class="nx">length</span>
<a class="line-num" href="#line-325" id="line-325">325</a>          <span class="vi">@_c._filterCombine = </span><span class="s">&quot;OR&quot;</span>
<a class="line-num" href="#line-326" id="line-326">326</a>        <span class="nx">@</span>
<a class="line-num" href="#line-327" id="line-327">327</a>  
<a class="line-num" href="#line-328" id="line-328">328</a>  
<a class="line-num" href="#line-329" id="line-329">329</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="and">
  <h2>
    <a href="#and" name="and" class="pilcrow">&#182;</a>
    and
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.and()</code></p>

<p>Combine next filter with an <code>AND</code></p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">SQLBuilder</span>
      <span>Returns itself for chaining</span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">public
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-338" id="line-338">338</a>  
<a class="line-num" href="#line-339" id="line-339">339</a>      <span class="o">and:</span> <span class="o">=&gt;</span>
<a class="line-num" href="#line-340" id="line-340">340</a>        <span class="k">if</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">filters</span><span class="o">?</span><span class="p">.</span><span class="nx">length</span>      
<a class="line-num" href="#line-341" id="line-341">341</a>          <span class="vi">@_c._filterCombine = </span><span class="s">&quot;AND&quot;</span>
<a class="line-num" href="#line-342" id="line-342">342</a>        <span class="nx">@</span>
<a class="line-num" href="#line-343" id="line-343">343</a>  
<a class="line-num" href="#line-344" id="line-344">344</a>  
<a class="line-num" href="#line-345" id="line-345">345</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="filtergroup">
  <h2>
    <a href="#filtergroup" name="filtergroup" class="pilcrow">&#182;</a>
    filterGroup
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.filterGroup( [newGroup] )</code></p>

<p>Start a filter group by wrapping it with "()". It will be colsed at the end, with the next group or by calling <code>.filterGroup( false )</code></p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[newGroup=true]</span>
      <span class="dox_type">Boolean</span>
      <span>Start a new group </span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">SQLBuilder</span>
      <span>Returns itself for chaining</span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">public
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-356" id="line-356">356</a>  
<a class="line-num" href="#line-357" id="line-357">357</a>      <span class="nv">filterGroup: </span><span class="nf">( newGroup = true )=&gt;</span>
<a class="line-num" href="#line-358" id="line-358">358</a>        <span class="nx">@_c</span><span class="p">.</span><span class="nx">filters</span> <span class="o">or=</span> <span class="p">[]</span>
<a class="line-num" href="#line-359" id="line-359">359</a>        <span class="nv">_add = </span><span class="mi">0</span>
<a class="line-num" href="#line-360" id="line-360">360</a>        <span class="k">if</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">_filterGroup</span><span class="o">?</span> <span class="o">and</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">_filterGroup</span> <span class="o">&gt;=</span> <span class="mi">0</span>
<a class="line-num" href="#line-361" id="line-361">361</a>          <span class="nx">@log</span> <span class="s">&quot;debug&quot;</span><span class="p">,</span> <span class="s">&quot;filterGroup A&quot;</span><span class="p">,</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">filters</span><span class="p">,</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">_filterGroup</span>
<a class="line-num" href="#line-362" id="line-362">362</a>          <span class="k">if</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">_filterGroup</span> <span class="o">is</span> <span class="mi">0</span>
<a class="line-num" href="#line-363" id="line-363">363</a>            <span class="nx">@_c</span><span class="p">.</span><span class="nx">filters</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span> <span class="s">&quot;(&quot;</span> <span class="p">)</span>
<a class="line-num" href="#line-364" id="line-364">364</a>          <span class="k">else</span>
<a class="line-num" href="#line-365" id="line-365">365</a>            <span class="nx">@_c</span><span class="p">.</span><span class="nx">filters</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">_filterGroup</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s">&quot;(&quot;</span> <span class="p">)</span>
<a class="line-num" href="#line-366" id="line-366">366</a>          <span class="nx">@_c</span><span class="p">.</span><span class="nx">filters</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="s">&quot;)&quot;</span> <span class="p">)</span>
<a class="line-num" href="#line-367" id="line-367">367</a>          <span class="nv">_add = </span><span class="mi">1</span>
<a class="line-num" href="#line-368" id="line-368">368</a>          <span class="nx">@log</span> <span class="s">&quot;debug&quot;</span><span class="p">,</span> <span class="s">&quot;filterGroup B&quot;</span><span class="p">,</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">filters</span><span class="p">,</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">_filterGroup</span>
<a class="line-num" href="#line-369" id="line-369">369</a>          <span class="vi">@_c._filterGroup = </span><span class="kc">null</span>
<a class="line-num" href="#line-370" id="line-370">370</a>        <span class="k">if</span> <span class="nx">newGroup</span>
<a class="line-num" href="#line-371" id="line-371">371</a>          <span class="vi">@_c._filterGroup = </span><span class="p">(</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">filters</span><span class="o">?</span><span class="p">.</span><span class="nx">length</span> <span class="o">or</span> <span class="mi">0</span> <span class="p">)</span> <span class="o">+</span> <span class="nx">_add</span>
<a class="line-num" href="#line-372" id="line-372">372</a>        <span class="nx">@</span>
<a class="line-num" href="#line-373" id="line-373">373</a>  
<a class="line-num" href="#line-374" id="line-374">374</a>  
<a class="line-num" href="#line-375" id="line-375">375</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="create">
  <h2>
    <a href="#create" name="create" class="pilcrow">&#182;</a>
    create
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.create( attributes )</code></p>

<p>Create a table create statement based upon the define <code>sql.attrs</code></p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">String</span>
      <span>Create table statement </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">public
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-384" id="line-384">384</a>  
<a class="line-num" href="#line-385" id="line-385">385</a>      <span class="nv">create: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-386" id="line-386">386</a>        <span class="nv">statement = </span><span class="p">[]</span>
<a class="line-num" href="#line-387" id="line-387">387</a>        <span class="nx">statement</span><span class="p">.</span><span class="nx">push</span> <span class="s">&quot;CREATE TABLE IF NOT EXISTS </span><span class="si">#{</span> <span class="nx">@table</span> <span class="si">}</span><span class="s"> (&quot;</span>
<a class="line-num" href="#line-388" id="line-388">388</a>  
<a class="line-num" href="#line-389" id="line-389">389</a>        <span class="nv">defs = </span><span class="p">[]</span>
<a class="line-num" href="#line-390" id="line-390">390</a>  
<a class="line-num" href="#line-391" id="line-391">391</a>        <span class="k">for</span> <span class="nx">attr</span> <span class="k">in</span> <span class="nx">@attrs</span>
<a class="line-num" href="#line-392" id="line-392">392</a>          <span class="nx">defs</span><span class="p">.</span><span class="nx">push</span> <span class="nx">@_genRowCreate</span><span class="p">(</span> <span class="nx">attr</span> <span class="p">)</span>
<a class="line-num" href="#line-393" id="line-393">393</a>  
<a class="line-num" href="#line-394" id="line-394">394</a>        <span class="nv">prim = </span><span class="s">&quot;\nPRIMARY KEY (&quot;</span>
<a class="line-num" href="#line-395" id="line-395">395</a>        <span class="nx">prim</span> <span class="o">+=</span> <span class="s">&quot; `</span><span class="si">#{</span> <span class="nx">@hash</span><span class="p">.</span><span class="nx">key</span> <span class="si">}</span><span class="s">` &quot;</span>
<a class="line-num" href="#line-396" id="line-396">396</a>        <span class="nx">prim</span> <span class="o">+=</span> <span class="s">&quot;, `</span><span class="si">#{</span> <span class="nx">@range</span><span class="p">.</span><span class="nx">key</span> <span class="si">}</span><span class="s">` &quot;</span> <span class="k">if</span> <span class="nx">@isRange</span>
<a class="line-num" href="#line-397" id="line-397">397</a>        <span class="nx">prim</span> <span class="o">+=</span> <span class="s">&quot;)&quot;</span>
<a class="line-num" href="#line-398" id="line-398">398</a>        <span class="nx">defs</span><span class="p">.</span><span class="nx">push</span> <span class="nx">prim</span>
<a class="line-num" href="#line-399" id="line-399">399</a>  
<a class="line-num" href="#line-400" id="line-400">400</a>        <span class="nx">statement</span><span class="p">.</span><span class="nx">push</span> <span class="nx">defs</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s">&quot;, &quot;</span><span class="p">)</span>
<a class="line-num" href="#line-401" id="line-401">401</a>        <span class="nx">statement</span><span class="p">.</span><span class="nx">push</span> <span class="s">&quot;\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;&quot;</span>
<a class="line-num" href="#line-402" id="line-402">402</a>  
<a class="line-num" href="#line-403" id="line-403">403</a>        <span class="nx">statement</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span> <span class="s">&quot; &quot;</span> <span class="p">)</span>
<a class="line-num" href="#line-404" id="line-404">404</a>  
<a class="line-num" href="#line-405" id="line-405">405</a>  
<a class="line-num" href="#line-406" id="line-406">406</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="drop">
  <h2>
    <a href="#drop" name="drop" class="pilcrow">&#182;</a>
    drop
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.drop( attributes )</code></p>

<p>Create a table drop statement</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">String</span>
      <span>Drop table statement </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">public
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-415" id="line-415">415</a>  
<a class="line-num" href="#line-416" id="line-416">416</a>      <span class="nv">drop: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-417" id="line-417">417</a>        <span class="s">&quot;DROP TABLE IF EXISTS </span><span class="si">#{</span> <span class="nx">@table</span> <span class="si">}</span><span class="s">&quot;</span>
<a class="line-num" href="#line-418" id="line-418">418</a>      
<a class="line-num" href="#line-419" id="line-419">419</a>      
<a class="line-num" href="#line-420" id="line-420">420</a>  
<a class="line-num" href="#line-421" id="line-421">421</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="settoarray">
  <h2>
    <a href="#settoarray" name="settoarray" class="pilcrow">&#182;</a>
    setToArray
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.setToArray( value )</code></p>

<p>Convert a set value to a array</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">value</span>
      <span class="dox_type">String</span>
      <span>A raw db set value</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">Array</span>
      <span>The converted set as an array </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">public
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-432" id="line-432">432</a>  
<a class="line-num" href="#line-433" id="line-433">433</a>      <span class="nv">setToArray: </span><span class="nf">( value )=&gt;</span>
<a class="line-num" href="#line-434" id="line-434">434</a>        <span class="nv">_lDlm = </span><span class="nx">@config</span><span class="p">.</span><span class="nx">sqlSetDelimiter</span><span class="p">.</span><span class="nx">length</span>
<a class="line-num" href="#line-435" id="line-435">435</a>        <span class="k">if</span> <span class="o">not</span> <span class="nx">value</span><span class="o">?</span> <span class="o">or</span> <span class="nx">value</span><span class="o">?</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;=</span> <span class="nx">_lDlm</span>
<a class="line-num" href="#line-436" id="line-436">436</a>          <span class="k">return</span> <span class="kc">null</span>
<a class="line-num" href="#line-437" id="line-437">437</a>  
<a class="line-num" href="#line-438" id="line-438">438</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-43" id="section-43">&#182;</a>
</div>
<p>remove the first and last delimiter and slipt the set into an array</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-437" id="line-437">437</a>  
<a class="line-num" href="#line-438" id="line-438">438</a>        <span class="nx">value</span><span class="p">[</span> <span class="nx">_lDlm</span><span class="p">..</span><span class="o">-</span><span class="p">(</span> <span class="nx">_lDlm</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">].</span><span class="nx">split</span><span class="p">(</span> <span class="nx">@config</span><span class="p">.</span><span class="nx">sqlSetDelimiter</span> <span class="p">)</span>
<a class="line-num" href="#line-439" id="line-439">439</a>  
<a class="line-num" href="#line-440" id="line-440">440</a>  
<a class="line-num" href="#line-441" id="line-441">441</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="getter%20and%20setter%20methods">
  <h1>
    <a href="#getter%20and%20setter%20methods" name="getter%20and%20setter%20methods" class="pilcrow">&#182;</a>
    Getter and Setter methods
  </h1>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-440" id="line-440">440</a>  
<a class="line-num" href="#line-441" id="line-441">441</a>      
<a class="line-num" href="#line-442" id="line-442">442</a>  
<a class="line-num" href="#line-443" id="line-443">443</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="settable">
  <h2>
    <a href="#settable" name="settable" class="pilcrow">&#182;</a>
    setTable
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.setTable( tbl )</code></p>

<p>Set the table</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">tbl</span>
      <span class="dox_type">String</span>
      <span>Table name </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-452" id="line-452">452</a>  
<a class="line-num" href="#line-453" id="line-453">453</a>      <span class="nv">setTable: </span><span class="nf">( tbl )=&gt;</span>
<a class="line-num" href="#line-454" id="line-454">454</a>        <span class="vi">@_c.table = </span><span class="nx">tbl</span>
<a class="line-num" href="#line-455" id="line-455">455</a>        <span class="k">return</span>
<a class="line-num" href="#line-456" id="line-456">456</a>  
<a class="line-num" href="#line-457" id="line-457">457</a>  
<a class="line-num" href="#line-458" id="line-458">458</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="gettable">
  <h2>
    <a href="#gettable" name="gettable" class="pilcrow">&#182;</a>
    getTable
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.getTable()</code></p>

<p>Get the table</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">String</span>
      <span>Table name </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-467" id="line-467">467</a>  
<a class="line-num" href="#line-468" id="line-468">468</a>      <span class="nv">getTable: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-469" id="line-469">469</a>        <span class="k">if</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">table</span><span class="o">?</span>
<a class="line-num" href="#line-470" id="line-470">470</a>          <span class="nx">@_c</span><span class="p">.</span><span class="nx">table</span>
<a class="line-num" href="#line-471" id="line-471">471</a>        <span class="k">else</span>
<a class="line-num" href="#line-472" id="line-472">472</a>          <span class="nx">@_handleError</span><span class="p">(</span> <span class="kc">null</span><span class="p">,</span> <span class="s">&quot;no-table&quot;</span> <span class="p">)</span>
<a class="line-num" href="#line-473" id="line-473">473</a>  
<a class="line-num" href="#line-474" id="line-474">474</a>  
<a class="line-num" href="#line-475" id="line-475">475</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="sethash">
  <h2>
    <a href="#sethash" name="sethash" class="pilcrow">&#182;</a>
    setHash
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.setHash( _h )</code></p>

<p>Set the hash config</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">_h</span>
      <span class="dox_type">object</span>
      <span>Hash configuration</span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-484" id="line-484">484</a>  
<a class="line-num" href="#line-485" id="line-485">485</a>      <span class="nv">setHash: </span><span class="nf">( _h )=&gt;</span>
<a class="line-num" href="#line-486" id="line-486">486</a>        <span class="vi">@_c.hash = </span><span class="p">{}</span>
<a class="line-num" href="#line-487" id="line-487">487</a>        <span class="nx">@extend</span><span class="p">(</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">hash</span><span class="p">,</span> <span class="nx">@config</span><span class="p">.</span><span class="nx">hash</span><span class="p">,</span> <span class="nx">_h</span> <span class="p">)</span>
<a class="line-num" href="#line-488" id="line-488">488</a>  
<a class="line-num" href="#line-489" id="line-489">489</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-48" id="section-48">&#182;</a>
</div>
<p>add the hash to the attributes</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-488" id="line-488">488</a>  
<a class="line-num" href="#line-489" id="line-489">489</a>        <span class="nx">@_c</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">push</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">hash</span>
<a class="line-num" href="#line-490" id="line-490">490</a>        <span class="nx">@_c</span><span class="p">.</span><span class="nx">attrKeys</span><span class="p">.</span><span class="nx">push</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">hash</span><span class="p">.</span><span class="nx">key</span>
<a class="line-num" href="#line-491" id="line-491">491</a>        <span class="k">return</span>
<a class="line-num" href="#line-492" id="line-492">492</a>  
<a class="line-num" href="#line-493" id="line-493">493</a>  
<a class="line-num" href="#line-494" id="line-494">494</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="gethash">
  <h2>
    <a href="#gethash" name="gethash" class="pilcrow">&#182;</a>
    getHash
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.getHash()</code></p>

<p>Get the hash configuration</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">Object</span>
      <span>Hash configuration </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-503" id="line-503">503</a>  
<a class="line-num" href="#line-504" id="line-504">504</a>      <span class="nv">getHash: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-505" id="line-505">505</a>        <span class="k">if</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">hash</span><span class="o">?</span>
<a class="line-num" href="#line-506" id="line-506">506</a>          <span class="nx">@_c</span><span class="p">.</span><span class="nx">hash</span>
<a class="line-num" href="#line-507" id="line-507">507</a>        <span class="k">else</span>
<a class="line-num" href="#line-508" id="line-508">508</a>          <span class="nx">@_handleError</span><span class="p">(</span> <span class="kc">null</span><span class="p">,</span> <span class="s">&quot;no-hash&quot;</span> <span class="p">)</span>
<a class="line-num" href="#line-509" id="line-509">509</a>  
<a class="line-num" href="#line-510" id="line-510">510</a>  
<a class="line-num" href="#line-511" id="line-511">511</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="gethashkey">
  <h2>
    <a href="#gethashkey" name="gethashkey" class="pilcrow">&#182;</a>
    getHashKey
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.getHashKey()</code></p>

<p>Get the key name of the hash</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">String</span>
      <span>Key name of the hash </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-520" id="line-520">520</a>  
<a class="line-num" href="#line-521" id="line-521">521</a>      <span class="nv">getHashKey: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-522" id="line-522">522</a>        <span class="nx">@hash</span><span class="p">.</span><span class="nx">key</span>
<a class="line-num" href="#line-523" id="line-523">523</a>  
<a class="line-num" href="#line-524" id="line-524">524</a>  
<a class="line-num" href="#line-525" id="line-525">525</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="setrange">
  <h2>
    <a href="#setrange" name="setrange" class="pilcrow">&#182;</a>
    setRange
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.setRange( _r )</code></p>

<p>Set the range config</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">_r</span>
      <span class="dox_type">object</span>
      <span>Hash configuration</span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-534" id="line-534">534</a>  
<a class="line-num" href="#line-535" id="line-535">535</a>      <span class="nv">setRange: </span><span class="nf">( _r )=&gt;</span>
<a class="line-num" href="#line-536" id="line-536">536</a>        <span class="k">if</span> <span class="nx">_r</span><span class="o">?</span>
<a class="line-num" href="#line-537" id="line-537">537</a>          <span class="vi">@_c.isRange = </span><span class="kc">true</span>
<a class="line-num" href="#line-538" id="line-538">538</a>          <span class="vi">@_c.range = </span><span class="p">{}</span>
<a class="line-num" href="#line-539" id="line-539">539</a>          <span class="nx">@extend</span><span class="p">(</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">range</span><span class="p">,</span> <span class="nx">@config</span><span class="p">.</span><span class="nx">range</span><span class="p">,</span> <span class="nx">_r</span> <span class="p">)</span>
<a class="line-num" href="#line-540" id="line-540">540</a>  
<a class="line-num" href="#line-541" id="line-541">541</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-52" id="section-52">&#182;</a>
</div>
<p>add the range to the attributes</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-540" id="line-540">540</a>  
<a class="line-num" href="#line-541" id="line-541">541</a>          <span class="nx">@_c</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">push</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">range</span>
<a class="line-num" href="#line-542" id="line-542">542</a>          <span class="nx">@_c</span><span class="p">.</span><span class="nx">attrKeys</span><span class="p">.</span><span class="nx">push</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">range</span><span class="p">.</span><span class="nx">key</span>
<a class="line-num" href="#line-543" id="line-543">543</a>        <span class="k">else</span>
<a class="line-num" href="#line-544" id="line-544">544</a>          <span class="vi">@_c.isRange = </span><span class="kc">false</span>
<a class="line-num" href="#line-545" id="line-545">545</a>          <span class="nx">_</span><span class="p">.</span><span class="nx">omit</span><span class="p">(</span> <span class="nx">@_c</span><span class="p">,</span> <span class="s">&quot;range&quot;</span> <span class="p">)</span>
<a class="line-num" href="#line-546" id="line-546">546</a>        <span class="k">return</span>
<a class="line-num" href="#line-547" id="line-547">547</a>  
<a class="line-num" href="#line-548" id="line-548">548</a>  
<a class="line-num" href="#line-549" id="line-549">549</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="getrange">
  <h2>
    <a href="#getrange" name="getrange" class="pilcrow">&#182;</a>
    getRange
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.getRange()</code></p>

<p>Get the range configuration</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">Object</span>
      <span>Range configuration </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-558" id="line-558">558</a>  
<a class="line-num" href="#line-559" id="line-559">559</a>      <span class="nv">getRange: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-560" id="line-560">560</a>        <span class="nx">@_c</span><span class="p">.</span><span class="nx">range</span>
<a class="line-num" href="#line-561" id="line-561">561</a>  
<a class="line-num" href="#line-562" id="line-562">562</a>  
<a class="line-num" href="#line-563" id="line-563">563</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="getrangekey">
  <h2>
    <a href="#getrangekey" name="getrangekey" class="pilcrow">&#182;</a>
    getRangeKey
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.getRangeKey()</code></p>

<p>Get the key name of the range</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">String</span>
      <span>Key name of the range </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-572" id="line-572">572</a>  
<a class="line-num" href="#line-573" id="line-573">573</a>      <span class="nv">getRangeKey: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-574" id="line-574">574</a>        <span class="k">if</span> <span class="nx">@isrange</span>
<a class="line-num" href="#line-575" id="line-575">575</a>          <span class="nx">@range</span><span class="p">.</span><span class="nx">key</span>
<a class="line-num" href="#line-576" id="line-576">576</a>        <span class="k">else</span>
<a class="line-num" href="#line-577" id="line-577">577</a>          <span class="kc">null</span>
<a class="line-num" href="#line-578" id="line-578">578</a>  
<a class="line-num" href="#line-579" id="line-579">579</a>  
<a class="line-num" href="#line-580" id="line-580">580</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="_isrange">
  <h2>
    <a href="#_isrange" name="_isrange" class="pilcrow">&#182;</a>
    _isRange
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql._isRange()</code></p>

<p>Check if this table is a range table</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">Boolean</span>
      <span>Is range table </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-589" id="line-589">589</a>  
<a class="line-num" href="#line-590" id="line-590">590</a>      <span class="nv">_isRange: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-591" id="line-591">591</a>        <span class="k">if</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">isRange</span><span class="o">?</span> <span class="k">then</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">isRange</span> <span class="o">or</span> <span class="kc">false</span>
<a class="line-num" href="#line-592" id="line-592">592</a>  
<a class="line-num" href="#line-593" id="line-593">593</a>  
<a class="line-num" href="#line-594" id="line-594">594</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="setattrs">
  <h2>
    <a href="#setattrs" name="setattrs" class="pilcrow">&#182;</a>
    setAttrs
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.setAttrs( _attrs )</code></p>

<p>Set the attribute configuration</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">_attrs</span>
      <span class="dox_type">String</span>
      <span>Arrtribute configuration </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-603" id="line-603">603</a>  
<a class="line-num" href="#line-604" id="line-604">604</a>      <span class="nv">setAttrs: </span><span class="nf">( _attrs )=&gt;</span>
<a class="line-num" href="#line-605" id="line-605">605</a>        <span class="nv">_defAttrCnf = </span><span class="nx">@config</span><span class="p">.</span><span class="nx">attr</span>
<a class="line-num" href="#line-606" id="line-606">606</a>        <span class="k">for</span> <span class="nx">attr</span> <span class="k">in</span> <span class="nx">_attrs</span>
<a class="line-num" href="#line-607" id="line-607">607</a>          <span class="k">if</span> <span class="nx">attr</span><span class="p">.</span><span class="nx">key</span><span class="o">?</span>
<a class="line-num" href="#line-608" id="line-608">608</a>  
<a class="line-num" href="#line-609" id="line-609">609</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-57" id="section-57">&#182;</a>
</div>
<p>collect the attribute keys</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-608" id="line-608">608</a>  
<a class="line-num" href="#line-609" id="line-609">609</a>            <span class="nx">@_c</span><span class="p">.</span><span class="nx">attrKeys</span><span class="p">.</span><span class="nx">push</span> <span class="nx">attr</span><span class="p">.</span><span class="nx">key</span>
<a class="line-num" href="#line-610" id="line-610">610</a>  
<a class="line-num" href="#line-611" id="line-611">611</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-58" id="section-58">&#182;</a>
</div>
<p>set the attribute configuration and extend it with the defauts</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-610" id="line-610">610</a>  
<a class="line-num" href="#line-611" id="line-611">611</a>            <span class="nx">@_c</span><span class="p">.</span><span class="nx">attrs</span><span class="p">.</span><span class="nx">push</span> <span class="nx">@extend</span><span class="p">(</span> <span class="p">{},</span> <span class="nx">_defAttrCnf</span><span class="p">,</span> <span class="nx">attr</span> <span class="p">)</span>
<a class="line-num" href="#line-612" id="line-612">612</a>  
<a class="line-num" href="#line-613" id="line-613">613</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-59" id="section-59">&#182;</a>
</div>
<p>collect the set type keys</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-612" id="line-612">612</a>  
<a class="line-num" href="#line-613" id="line-613">613</a>            <span class="k">if</span> <span class="nx">attr</span><span class="p">.</span><span class="nx">type</span> <span class="k">in</span> <span class="p">[</span> <span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;array&quot;</span> <span class="p">]</span>
<a class="line-num" href="#line-614" id="line-614">614</a>              <span class="nx">@_c</span><span class="p">.</span><span class="nx">attrsArrayKeys</span><span class="p">.</span><span class="nx">push</span> <span class="nx">attr</span><span class="p">.</span><span class="nx">key</span>
<a class="line-num" href="#line-615" id="line-615">615</a>        <span class="k">return</span>
<a class="line-num" href="#line-616" id="line-616">616</a>  
<a class="line-num" href="#line-617" id="line-617">617</a>  
<a class="line-num" href="#line-618" id="line-618">618</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="getattrs">
  <h2>
    <a href="#getattrs" name="getattrs" class="pilcrow">&#182;</a>
    getAttrs
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.getAttrs()</code></p>

<p>Get the current attribute configuration</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">Object</span>
      <span>Attribute configuration </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-627" id="line-627">627</a>  
<a class="line-num" href="#line-628" id="line-628">628</a>      <span class="nv">getAttrs: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-629" id="line-629">629</a>        <span class="k">if</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">attrs</span><span class="o">?</span>
<a class="line-num" href="#line-630" id="line-630">630</a>          <span class="nx">@_c</span><span class="p">.</span><span class="nx">attrs</span>
<a class="line-num" href="#line-631" id="line-631">631</a>        <span class="k">else</span>
<a class="line-num" href="#line-632" id="line-632">632</a>          <span class="p">[]</span>
<a class="line-num" href="#line-633" id="line-633">633</a>  
<a class="line-num" href="#line-634" id="line-634">634</a>  
<a class="line-num" href="#line-635" id="line-635">635</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="getattrkeys">
  <h2>
    <a href="#getattrkeys" name="getattrkeys" class="pilcrow">&#182;</a>
    getAttrKeys
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.getAttrKeys()</code></p>

<p>Get the keys of all defined attributes</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">Array</span>
      <span>All defined attributes</span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-644" id="line-644">644</a>  
<a class="line-num" href="#line-645" id="line-645">645</a>      <span class="nv">getAttrKeys: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-646" id="line-646">646</a>        <span class="nx">@_c</span><span class="p">.</span><span class="nx">attrKeys</span> <span class="o">or</span> <span class="p">[]</span>
<a class="line-num" href="#line-647" id="line-647">647</a>  
<a class="line-num" href="#line-648" id="line-648">648</a>  
<a class="line-num" href="#line-649" id="line-649">649</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="getarrayattrkeys">
  <h2>
    <a href="#getarrayattrkeys" name="getarrayattrkeys" class="pilcrow">&#182;</a>
    getArrayAttrKeys
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.getArrayAttrKeys()</code></p>

<p>Get all attribute keys of type <code>array</code> or <code>A</code></p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">Array</span>
      <span>All defined attributes of type array </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-658" id="line-658">658</a>  
<a class="line-num" href="#line-659" id="line-659">659</a>      <span class="nv">getArrayAttrKeys: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-660" id="line-660">660</a>        <span class="nx">@_c</span><span class="p">.</span><span class="nx">attrsArrayKeys</span> <span class="o">or</span> <span class="p">[]</span>
<a class="line-num" href="#line-661" id="line-661">661</a>  
<a class="line-num" href="#line-662" id="line-662">662</a>  
<a class="line-num" href="#line-663" id="line-663">663</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="setforward">
  <h2>
    <a href="#setforward" name="setforward" class="pilcrow">&#182;</a>
    setForward
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.setForward( [_forward] )</code></p>

<p>Set the order direction</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">_forward</span>
      <span class="dox_type">Boolean</span>
      <span><code>true</code>=<code>ASC</code> and <code>false</code>=<code>DESC</code></span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-672" id="line-672">672</a>  
<a class="line-num" href="#line-673" id="line-673">673</a>      <span class="nv">setForward: </span><span class="nf">( _forward = true )=&gt;</span>
<a class="line-num" href="#line-674" id="line-674">674</a>        <span class="k">if</span> <span class="nx">_forward</span>
<a class="line-num" href="#line-675" id="line-675">675</a>          <span class="vi">@_c.forward = </span><span class="kc">true</span>
<a class="line-num" href="#line-676" id="line-676">676</a>        <span class="k">else</span>
<a class="line-num" href="#line-677" id="line-677">677</a>          <span class="vi">@_c.forward = </span><span class="kc">false</span>
<a class="line-num" href="#line-678" id="line-678">678</a>        <span class="k">return</span>
<a class="line-num" href="#line-679" id="line-679">679</a>  
<a class="line-num" href="#line-680" id="line-680">680</a>  
<a class="line-num" href="#line-681" id="line-681">681</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="getforward">
  <h2>
    <a href="#getforward" name="getforward" class="pilcrow">&#182;</a>
    getForward
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.getForward()</code></p>

<p>Get the order direction</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">Boolean</span>
      <span>Is ordered by <code>ASC</code> </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-690" id="line-690">690</a>  
<a class="line-num" href="#line-691" id="line-691">691</a>      <span class="nv">getForward: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-692" id="line-692">692</a>        <span class="k">if</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">forward</span><span class="o">?</span>
<a class="line-num" href="#line-693" id="line-693">693</a>          <span class="nx">@_c</span><span class="p">.</span><span class="nx">forward</span>
<a class="line-num" href="#line-694" id="line-694">694</a>        <span class="k">else</span>
<a class="line-num" href="#line-695" id="line-695">695</a>          <span class="kc">true</span>
<a class="line-num" href="#line-696" id="line-696">696</a>  
<a class="line-num" href="#line-697" id="line-697">697</a>  
<a class="line-num" href="#line-698" id="line-698">698</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="getorderfield">
  <h2>
    <a href="#getorderfield" name="getorderfield" class="pilcrow">&#182;</a>
    getOrderField
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.getOrderField()</code></p>

<p>Get the defined order by field. Usualy the range key.</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">String</span>
      <span>Name of the column to define the order </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-707" id="line-707">707</a>  
<a class="line-num" href="#line-708" id="line-708">708</a>      <span class="nv">getOrderField: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-709" id="line-709">709</a>        <span class="k">if</span> <span class="nx">@isRange</span>
<a class="line-num" href="#line-710" id="line-710">710</a>          <span class="nx">@rangekey</span>
<a class="line-num" href="#line-711" id="line-711">711</a>        <span class="k">else</span>
<a class="line-num" href="#line-712" id="line-712">712</a>          <span class="nx">@hashkey</span>
<a class="line-num" href="#line-713" id="line-713">713</a>  
<a class="line-num" href="#line-714" id="line-714">714</a>  
<a class="line-num" href="#line-715" id="line-715">715</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="getorderby">
  <h2>
    <a href="#getorderby" name="getorderby" class="pilcrow">&#182;</a>
    getOrderBy
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.getOrderBy()</code></p>

<p>Get the <code>ORDER BY</code> sql</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">String</span>
      <span>Order by sql</span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-724" id="line-724">724</a>  
<a class="line-num" href="#line-725" id="line-725">725</a>      <span class="nv">getOrderBy: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-726" id="line-726">726</a>        <span class="k">if</span> <span class="nx">@forward</span>
<a class="line-num" href="#line-727" id="line-727">727</a>          <span class="s">&quot;ORDER BY </span><span class="si">#{</span> <span class="nx">@orderfield</span> <span class="si">}</span><span class="s"> ASC&quot;</span>
<a class="line-num" href="#line-728" id="line-728">728</a>        <span class="k">else</span>
<a class="line-num" href="#line-729" id="line-729">729</a>          <span class="s">&quot;ORDER BY </span><span class="si">#{</span> <span class="nx">@orderfield</span> <span class="si">}</span><span class="s"> DESC&quot;</span>  
<a class="line-num" href="#line-730" id="line-730">730</a>  
<a class="line-num" href="#line-731" id="line-731">731</a>  
<a class="line-num" href="#line-732" id="line-732">732</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="getwhere">
  <h2>
    <a href="#getwhere" name="getwhere" class="pilcrow">&#182;</a>
    getWhere
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.getWhere()</code></p>

<p>Construct the <code>WHERE</code> sql</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">String</span>
      <span>The sql Where clause</span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-741" id="line-741">741</a>  
<a class="line-num" href="#line-742" id="line-742">742</a>      <span class="nv">getWhere: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-743" id="line-743">743</a>        <span class="nv">_filters = </span><span class="nx">@_c</span><span class="p">.</span><span class="nx">filters</span> <span class="o">or</span> <span class="p">[]</span>
<a class="line-num" href="#line-744" id="line-744">744</a>        <span class="k">if</span> <span class="nx">_filters</span><span class="p">.</span><span class="nx">length</span>
<a class="line-num" href="#line-745" id="line-745">745</a>          
<a class="line-num" href="#line-746" id="line-746">746</a>          <span class="nx">@filterGroup</span><span class="p">(</span> <span class="kc">false</span> <span class="p">)</span>
<a class="line-num" href="#line-747" id="line-747">747</a>          <span class="s">&quot;WHERE </span><span class="si">#{</span> <span class="nx">_filters</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span> <span class="s">&quot;\n&quot;</span> <span class="p">)</span> <span class="si">}</span><span class="s">&quot;</span>
<a class="line-num" href="#line-748" id="line-748">748</a>        <span class="k">else</span>
<a class="line-num" href="#line-749" id="line-749">749</a>          <span class="kc">null</span>
<a class="line-num" href="#line-750" id="line-750">750</a>  
<a class="line-num" href="#line-751" id="line-751">751</a>  
<a class="line-num" href="#line-752" id="line-752">752</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="setfields">
  <h2>
    <a href="#setfields" name="setfields" class="pilcrow">&#182;</a>
    setFields
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.setFields( [fields] )</code></p>

<p>Set the fields to select</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[fields]</span>
      <span class="dox_type">Array</span>
      <span class="dox_type">String</span>
      <span>The fields to select as sql field list or as an array </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-761" id="line-761">761</a>  
<a class="line-num" href="#line-762" id="line-762">762</a>      <span class="nv">setFields: </span><span class="nf">( _fields = @config.fields )=&gt;</span>
<a class="line-num" href="#line-763" id="line-763">763</a>        <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span> <span class="nx">_fields</span> <span class="p">)</span>
<a class="line-num" href="#line-764" id="line-764">764</a>          <span class="vi">@_c.fields = </span><span class="nx">_fields</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span> <span class="s">&quot;, &quot;</span> <span class="p">)</span>
<a class="line-num" href="#line-765" id="line-765">765</a>        <span class="k">else</span>
<a class="line-num" href="#line-766" id="line-766">766</a>          <span class="vi">@_c.fields = </span><span class="nx">_fields</span>
<a class="line-num" href="#line-767" id="line-767">767</a>        <span class="k">return</span>
<a class="line-num" href="#line-768" id="line-768">768</a>  
<a class="line-num" href="#line-769" id="line-769">769</a>  
<a class="line-num" href="#line-770" id="line-770">770</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="getfields">
  <h2>
    <a href="#getfields" name="getfields" class="pilcrow">&#182;</a>
    getFields
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.getFields()</code></p>

<p>Get the field list</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">String</span>
      <span>Sql field list </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-779" id="line-779">779</a>  
<a class="line-num" href="#line-780" id="line-780">780</a>      <span class="nv">getFields: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-781" id="line-781">781</a>        <span class="k">if</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">fields</span><span class="o">?</span>
<a class="line-num" href="#line-782" id="line-782">782</a>          <span class="nx">@_c</span><span class="p">.</span><span class="nx">fields</span>
<a class="line-num" href="#line-783" id="line-783">783</a>        <span class="k">else</span>
<a class="line-num" href="#line-784" id="line-784">784</a>          <span class="nx">@config</span><span class="p">.</span><span class="nx">fields</span>
<a class="line-num" href="#line-785" id="line-785">785</a>  
<a class="line-num" href="#line-786" id="line-786">786</a>  
<a class="line-num" href="#line-787" id="line-787">787</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="setlimit">
  <h2>
    <a href="#setlimit" name="setlimit" class="pilcrow">&#182;</a>
    setLimit
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.setLimit( [_limit] )</code></p>

<p>Set the maximum number of returned values</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[_limit]</span>
      <span class="dox_type">Number</span>
      <span>The number of returned elements. <code>0</code> for unlimited</span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-796" id="line-796">796</a>  
<a class="line-num" href="#line-797" id="line-797">797</a>      <span class="nv">setLimit: </span><span class="nf">( _limit = @config.limit )=&gt;</span>
<a class="line-num" href="#line-798" id="line-798">798</a>        <span class="vi">@_c.limit = </span><span class="nx">_limit</span>
<a class="line-num" href="#line-799" id="line-799">799</a>        <span class="k">return</span>
<a class="line-num" href="#line-800" id="line-800">800</a>  
<a class="line-num" href="#line-801" id="line-801">801</a>  
<a class="line-num" href="#line-802" id="line-802">802</a>  
<a class="line-num" href="#line-803" id="line-803">803</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="getlimit">
  <h2>
    <a href="#getlimit" name="getlimit" class="pilcrow">&#182;</a>
    getLimit
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql.getLimit()</code></p>

<p>Get the <code>LIMIT</code> sql</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">String</span>
      <span>The sql limit clause</span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-812" id="line-812">812</a>  
<a class="line-num" href="#line-813" id="line-813">813</a>      <span class="nv">getLimit: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-814" id="line-814">814</a>        <span class="k">if</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">limit</span><span class="o">?</span>
<a class="line-num" href="#line-815" id="line-815">815</a>          <span class="k">if</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">limit</span> <span class="o">is</span> <span class="mi">0</span>
<a class="line-num" href="#line-816" id="line-816">816</a>            <span class="kc">null</span>
<a class="line-num" href="#line-817" id="line-817">817</a>          <span class="k">else</span>
<a class="line-num" href="#line-818" id="line-818">818</a>            <span class="s">&quot;LIMIT </span><span class="si">#{</span> <span class="nx">@_c</span><span class="p">.</span><span class="nx">limit</span> <span class="si">}</span><span class="s">&quot;</span>
<a class="line-num" href="#line-819" id="line-819">819</a>        <span class="k">else</span>
<a class="line-num" href="#line-820" id="line-820">820</a>          <span class="s">&quot;LIMIT </span><span class="si">#{</span> <span class="nx">@config</span><span class="p">.</span><span class="nx">limit</span> <span class="si">}</span><span class="s">&quot;</span>
<a class="line-num" href="#line-821" id="line-821">821</a>  
<a class="line-num" href="#line-822" id="line-822">822</a>      
<a class="line-num" href="#line-823" id="line-823">823</a>  
<a class="line-num" href="#line-824" id="line-824">824</a>  
<a class="line-num" href="#line-825" id="line-825">825</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="private%20methods">
  <h1>
    <a href="#private%20methods" name="private%20methods" class="pilcrow">&#182;</a>
    Private methods
  </h1>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-824" id="line-824">824</a>  
<a class="line-num" href="#line-825" id="line-825">825</a>      
<a class="line-num" href="#line-826" id="line-826">826</a>  
<a class="line-num" href="#line-827" id="line-827">827</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="_genrowcreate">
  <h2>
    <a href="#_genrowcreate" name="_genrowcreate" class="pilcrow">&#182;</a>
    _genRowCreate
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql._genRowCreate( opt )</code></p>

<p>Generate the create code for a table column</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">opt</span>
      <span class="dox_type">Object</span>
      <span>Column config </span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">String</span>
      <span>Sql part for the Create tabel statement </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-838" id="line-838">838</a>  
<a class="line-num" href="#line-839" id="line-839">839</a>      <span class="nv">_genRowCreate: </span><span class="nf">( opt )=&gt;</span>
<a class="line-num" href="#line-840" id="line-840">840</a>  
<a class="line-num" href="#line-841" id="line-841">841</a>        <span class="nv">_opt = </span><span class="nx">@extend</span><span class="p">(</span> <span class="p">{},</span> <span class="nx">@config</span><span class="p">.</span><span class="nx">attr</span><span class="p">,</span> <span class="nx">opt</span> <span class="p">)</span>
<a class="line-num" href="#line-842" id="line-842">842</a>        <span class="nv">stmt = </span><span class="s">&quot;\n`</span><span class="si">#{</span> <span class="nx">_opt</span><span class="p">.</span><span class="nx">key</span> <span class="si">}</span><span class="s">` &quot;</span>
<a class="line-num" href="#line-843" id="line-843">843</a>        <span class="nv">isString = </span><span class="kc">false</span>
<a class="line-num" href="#line-844" id="line-844">844</a>        <span class="nv">isSet = </span><span class="kc">false</span>
<a class="line-num" href="#line-845" id="line-845">845</a>  
<a class="line-num" href="#line-846" id="line-846">846</a>        <span class="k">if</span> <span class="nx">_opt</span><span class="p">.</span><span class="nx">type</span> <span class="o">is</span> <span class="s">&quot;A&quot;</span> <span class="o">or</span> <span class="nx">_opt</span><span class="p">.</span><span class="nx">type</span> <span class="o">is</span> <span class="s">&quot;array&quot;</span>
<a class="line-num" href="#line-847" id="line-847">847</a>          <span class="nv">isSet = </span><span class="kc">true</span>
<a class="line-num" href="#line-848" id="line-848">848</a>          <span class="nx">stmt</span> <span class="o">+=</span> <span class="s">&quot;text&quot;</span>
<a class="line-num" href="#line-849" id="line-849">849</a>        <span class="k">else</span> <span class="k">if</span> <span class="nx">_opt</span><span class="p">.</span><span class="nx">type</span> <span class="o">is</span> <span class="s">&quot;S&quot;</span> <span class="o">or</span> <span class="nx">_opt</span><span class="p">.</span><span class="nx">type</span> <span class="o">is</span> <span class="s">&quot;string&quot;</span>
<a class="line-num" href="#line-850" id="line-850">850</a>          <span class="nv">isString = </span><span class="kc">true</span>
<a class="line-num" href="#line-851" id="line-851">851</a>          <span class="k">if</span> <span class="nx">_opt</span><span class="p">.</span><span class="nx">length</span> <span class="o">is</span> <span class="o">+</span><span class="kc">Infinity</span>
<a class="line-num" href="#line-852" id="line-852">852</a>            <span class="nx">stmt</span> <span class="o">+=</span> <span class="s">&quot;text &quot;</span>
<a class="line-num" href="#line-853" id="line-853">853</a>          <span class="k">else</span>
<a class="line-num" href="#line-854" id="line-854">854</a>            <span class="nx">stmt</span> <span class="o">+=</span> <span class="s">&quot;varchar(</span><span class="si">#{</span><span class="nx">_opt</span><span class="p">.</span><span class="nx">length</span><span class="si">}</span><span class="s">) &quot;</span>
<a class="line-num" href="#line-855" id="line-855">855</a>        <span class="k">else</span>
<a class="line-num" href="#line-856" id="line-856">856</a>          <span class="k">if</span> <span class="nx">_opt</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">11</span>
<a class="line-num" href="#line-857" id="line-857">857</a>            <span class="nx">stmt</span> <span class="o">+=</span> <span class="s">&quot;bigint(</span><span class="si">#{</span><span class="nx">_opt</span><span class="p">.</span><span class="nx">length</span><span class="si">}</span><span class="s">) &quot;</span>
<a class="line-num" href="#line-858" id="line-858">858</a>          <span class="k">else</span>
<a class="line-num" href="#line-859" id="line-859">859</a>            <span class="nx">stmt</span> <span class="o">+=</span> <span class="s">&quot;int(</span><span class="si">#{</span><span class="nx">_opt</span><span class="p">.</span><span class="nx">length</span><span class="si">}</span><span class="s">) &quot;</span>
<a class="line-num" href="#line-860" id="line-860">860</a>  
<a class="line-num" href="#line-861" id="line-861">861</a>        <span class="k">if</span> <span class="o">not</span> <span class="nx">isSet</span> <span class="o">and</span> <span class="nx">_opt</span><span class="p">.</span><span class="nx">required</span>
<a class="line-num" href="#line-862" id="line-862">862</a>          <span class="nx">stmt</span> <span class="o">+=</span> <span class="s">&quot;NOT NULL &quot;</span>
<a class="line-num" href="#line-863" id="line-863">863</a>  
<a class="line-num" href="#line-864" id="line-864">864</a>        <span class="k">if</span> <span class="o">not</span> <span class="nx">isSet</span> <span class="o">and</span> <span class="nx">_opt</span><span class="p">.</span><span class="nx">default</span><span class="o">?</span>
<a class="line-num" href="#line-865" id="line-865">865</a>          <span class="k">if</span> <span class="nx">isString</span>
<a class="line-num" href="#line-866" id="line-866">866</a>            <span class="nx">stmt</span> <span class="o">+=</span> <span class="s">&quot;DEFAULT &#39;</span><span class="si">#{</span> <span class="nx">_opt</span><span class="p">.</span><span class="nx">default</span> <span class="si">}</span><span class="s">&#39;&quot;</span>
<a class="line-num" href="#line-867" id="line-867">867</a>          <span class="k">else</span>
<a class="line-num" href="#line-868" id="line-868">868</a>            <span class="nx">stmt</span> <span class="o">+=</span> <span class="s">&quot;DEFAULT </span><span class="si">#{</span> <span class="nx">_opt</span><span class="p">.</span><span class="nx">default</span> <span class="si">}</span><span class="s">&quot;</span>
<a class="line-num" href="#line-869" id="line-869">869</a>  
<a class="line-num" href="#line-870" id="line-870">870</a>        <span class="k">return</span> <span class="nx">stmt</span>
<a class="line-num" href="#line-871" id="line-871">871</a>  
<a class="line-num" href="#line-872" id="line-872">872</a>  
<a class="line-num" href="#line-873" id="line-873">873</a>  
<a class="line-num" href="#line-874" id="line-874">874</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="_validateattributes">
  <h2>
    <a href="#_validateattributes" name="_validateattributes" class="pilcrow">&#182;</a>
    _validateAttributes
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql._validateAttributes( isCreate, attributes )</code></p>

<p>Validate the attributes before a update or insert</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">isCreate</span>
      <span class="dox_type">Boolean</span>
      <span>It is a insert </span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">attributes</span>
      <span class="dox_type">Object</span>
      <span>Object of attributes to save </span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">Object</span>
      <span>The cleaned attributes </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-886" id="line-886">886</a>  
<a class="line-num" href="#line-887" id="line-887">887</a>      <span class="nv">_validateAttributes: </span><span class="nf">( isCreate, attrs )=&gt;</span>
<a class="line-num" href="#line-888" id="line-888">888</a>        <span class="nv">_keys = </span><span class="nx">@attrKeys</span>
<a class="line-num" href="#line-889" id="line-889">889</a>        <span class="nv">_omited = </span><span class="nx">_</span><span class="p">.</span><span class="nx">difference</span><span class="p">(</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span> <span class="nx">attrs</span> <span class="p">),</span><span class="nx">_keys</span> <span class="p">)</span>
<a class="line-num" href="#line-890" id="line-890">890</a>        <span class="nv">attrs = </span><span class="nx">_</span><span class="p">.</span><span class="nx">pick</span><span class="p">(</span> <span class="nx">attrs</span><span class="p">,</span> <span class="nx">_keys</span> <span class="p">)</span>
<a class="line-num" href="#line-891" id="line-891">891</a>        <span class="k">if</span> <span class="nx">_omited</span><span class="p">.</span><span class="nx">length</span>
<a class="line-num" href="#line-892" id="line-892">892</a>          <span class="nx">@log</span> <span class="s">&quot;warning&quot;</span><span class="p">,</span> <span class="s">&quot;validateAttributes&quot;</span><span class="p">,</span> <span class="s">&quot;You tried to save to attributed not defined in the model config&quot;</span><span class="p">,</span> <span class="nx">_omited</span><span class="p">,</span> <span class="nx">attrs</span>
<a class="line-num" href="#line-893" id="line-893">893</a>        <span class="k">else</span>
<a class="line-num" href="#line-894" id="line-894">894</a>          <span class="nx">@log</span> <span class="s">&quot;debug&quot;</span><span class="p">,</span> <span class="s">&quot;validateAttributes&quot;</span><span class="p">,</span> <span class="nx">attrs</span>
<a class="line-num" href="#line-895" id="line-895">895</a>        <span class="k">return</span> <span class="nx">attrs</span>
<a class="line-num" href="#line-896" id="line-896">896</a>  
<a class="line-num" href="#line-897" id="line-897">897</a>  
<a class="line-num" href="#line-898" id="line-898">898</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="_getattrconfig">
  <h2>
    <a href="#_getattrconfig" name="_getattrconfig" class="pilcrow">&#182;</a>
    _getAttrConfig
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql._getAttrConfig( key )</code></p>

<p>Get the configuration of a attribute</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">key</span>
      <span class="dox_type">String</span>
      <span>Attribute/Column/Field name </span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">Object</span>
      <span>Attribute configuration</span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-909" id="line-909">909</a>  
<a class="line-num" href="#line-910" id="line-910">910</a>      <span class="nv">_getAttrConfig: </span><span class="nf">( key )=&gt;</span>
<a class="line-num" href="#line-911" id="line-911">911</a>        <span class="k">for</span> <span class="nx">attr</span> <span class="k">in</span> <span class="nx">@attrs</span>
<a class="line-num" href="#line-912" id="line-912">912</a>          <span class="k">return</span> <span class="nx">attr</span> <span class="k">if</span> <span class="nx">attr</span><span class="p">.</span><span class="nx">key</span> <span class="o">is</span> <span class="nx">key</span>
<a class="line-num" href="#line-913" id="line-913">913</a>  
<a class="line-num" href="#line-914" id="line-914">914</a>  
<a class="line-num" href="#line-915" id="line-915">915</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="_getsavevariables">
  <h2>
    <a href="#_getsavevariables" name="_getsavevariables" class="pilcrow">&#182;</a>
    _getSaveVariables
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql._getSaveVariables( attributes )</code></p>

<p>Create the keys and values for the update and inser statements</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">attributes</span>
      <span class="dox_type">Object</span>
      <span>Data object to save </span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">[_keys</span>
      <span class="dox_type">_vals]</span>
      <span><code>_keys</code>: An array of all keys to save; <code>_vals</code>: An array of all escaped values to save</span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-926" id="line-926">926</a>  
<a class="line-num" href="#line-927" id="line-927">927</a>      <span class="nv">_getSaveVariables: </span><span class="nf">( attributes )=&gt;</span> 
<a class="line-num" href="#line-928" id="line-928">928</a>        <span class="nv">_keys = </span><span class="p">[]</span>
<a class="line-num" href="#line-929" id="line-929">929</a>        <span class="nv">_vals = </span><span class="p">[]</span>
<a class="line-num" href="#line-930" id="line-930">930</a>  
<a class="line-num" href="#line-931" id="line-931">931</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-77" id="section-77">&#182;</a>
</div>
<p>loop through all attributes</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-930" id="line-930">930</a>  
<a class="line-num" href="#line-931" id="line-931">931</a>        <span class="k">for</span> <span class="nx">_key</span><span class="p">,</span> <span class="nx">_val</span> <span class="k">of</span> <span class="nx">attributes</span>
<a class="line-num" href="#line-932" id="line-932">932</a>          <span class="nv">_cnf = </span><span class="nx">@_getAttrConfig</span><span class="p">(</span> <span class="nx">_key</span> <span class="p">)</span>
<a class="line-num" href="#line-933" id="line-933">933</a>          <span class="k">if</span> <span class="nx">_cnf</span>
<a class="line-num" href="#line-934" id="line-934">934</a>            <span class="k">switch</span> <span class="nx">_cnf</span><span class="p">.</span><span class="nx">type</span>
<a class="line-num" href="#line-935" id="line-935">935</a>              <span class="k">when</span> <span class="s">&quot;string&quot;</span><span class="p">,</span> <span class="s">&quot;number&quot;</span><span class="p">,</span> <span class="s">&quot;S&quot;</span><span class="p">,</span> <span class="s">&quot;N&quot;</span>
<a class="line-num" href="#line-936" id="line-936">936</a>  
<a class="line-num" href="#line-937" id="line-937">937</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-78" id="section-78">&#182;</a>
</div>
<p>create regular values</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-936" id="line-936">936</a>  
<a class="line-num" href="#line-937" id="line-937">937</a>                <span class="nx">_keys</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">_key</span> <span class="p">)</span>
<a class="line-num" href="#line-938" id="line-938">938</a>                <span class="nx">_vals</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">mysql</span><span class="p">.</span><span class="nx">escape</span><span class="p">(</span> <span class="nx">_val</span> <span class="p">)</span> <span class="p">)</span>
<a class="line-num" href="#line-939" id="line-939">939</a>              <span class="k">when</span> <span class="s">&quot;array&quot;</span><span class="p">,</span> <span class="s">&quot;A&quot;</span>
<a class="line-num" href="#line-940" id="line-940">940</a>  
<a class="line-num" href="#line-941" id="line-941">941</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-79" id="section-79">&#182;</a>
</div>
<p>create values with the set functions.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-940" id="line-940">940</a>  
<a class="line-num" href="#line-941" id="line-941">941</a>                <span class="nv">_setval = </span><span class="nx">@_generateSetCommand</span><span class="p">(</span> <span class="nx">_key</span><span class="p">,</span> <span class="nx">_val</span><span class="p">,</span> <span class="nx">@config</span><span class="p">.</span><span class="nx">sqlSetDelimiter</span> <span class="p">)</span>
<a class="line-num" href="#line-942" id="line-942">942</a>                <span class="k">if</span> <span class="nx">_setval</span><span class="o">?</span>
<a class="line-num" href="#line-943" id="line-943">943</a>                  <span class="nx">_keys</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">_key</span> <span class="p">)</span>
<a class="line-num" href="#line-944" id="line-944">944</a>                  <span class="nx">_vals</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">_setval</span> <span class="p">)</span>
<a class="line-num" href="#line-945" id="line-945">945</a>                <span class="nx">@log</span> <span class="s">&quot;debug&quot;</span><span class="p">,</span> <span class="s">&quot;setCommand&quot;</span><span class="p">,</span> <span class="nx">_setval</span><span class="p">,</span> <span class="nx">_val</span><span class="p">,</span> <span class="nx">_key</span>
<a class="line-num" href="#line-946" id="line-946">946</a>        <span class="k">return</span> <span class="p">[</span> <span class="nx">_keys</span><span class="p">,</span> <span class="nx">_vals</span> <span class="p">]</span>
<a class="line-num" href="#line-947" id="line-947">947</a>        <span class="k">return</span> <span class="kc">null</span>
<a class="line-num" href="#line-948" id="line-948">948</a>  
<a class="line-num" href="#line-949" id="line-949">949</a>  
<a class="line-num" href="#line-950" id="line-950">950</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-80" id="section-80">&#182;</a>
</div>
<p><strong>_generateSetCommandTmpls</strong> <em>Object</em> Underscore templates for the set sql commands. Used by the method <code>_generateSetCommand</code></p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-949" id="line-949">949</a>  
<a class="line-num" href="#line-950" id="line-950">950</a>      <span class="nv">_generateSetCommandTmpls:</span>
<a class="line-num" href="#line-951" id="line-951">951</a>        <span class="nv">add: </span><span class="nx">_</span><span class="p">.</span><span class="nx">template</span><span class="p">(</span> <span class="s">&#39;IF( INSTR( &lt;%= set %&gt;,&quot;&lt;%= val %&gt;&lt;%= dlm %&gt;&quot;) = 0, &quot;&lt;%= val %&gt;&lt;%= dlm %&gt;&quot;, &quot;&quot; )&#39;</span> <span class="p">)</span>
<a class="line-num" href="#line-952" id="line-952">952</a>        <span class="nv">rem: </span><span class="nx">_</span><span class="p">.</span><span class="nx">template</span><span class="p">(</span> <span class="s">&#39;REPLACE( &lt;%= set %&gt;, &quot;&lt;%= dlm %&gt;&lt;%= val %&gt;&lt;%= dlm %&gt;&quot;, &quot;&lt;%= dlm %&gt;&quot;)&#39;</span> <span class="p">)</span>
<a class="line-num" href="#line-953" id="line-953">953</a>        <span class="nv">set: </span><span class="nx">_</span><span class="p">.</span><span class="nx">template</span><span class="p">(</span> <span class="s">&#39;IF( &lt;%= key %&gt; is NULL,&quot;&lt;%= dlm %&gt;&quot;, &lt;%= key %&gt;)&#39;</span> <span class="p">)</span>
<a class="line-num" href="#line-954" id="line-954">954</a>  
<a class="line-num" href="#line-955" id="line-955">955</a>  
<a class="line-num" href="#line-956" id="line-956">956</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs"><div class="dox">
  <div class="summary">
<div class="pilwrap" id="_generatesetcommand">
  <h2>
    <a href="#_generatesetcommand" name="_generatesetcommand" class="pilcrow">&#182;</a>
    _generateSetCommand
  </h2>
</div>

  </div>
  <div class="body"><p><code>sql._generateSetCommand( key, inp, dlm )</code></p>

<p>Generate the sql command to add, reset or remove a elment out of a set string.
How to handle set within a sql field is described by this <a href="https://gist.github.com/mpneuried/5704200">GIST</a> </p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">key</span>
      <span class="dox_type">String</span>
      <span>The field name </span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">inp</span>
      <span class="dox_type">String</span>
      <span class="dox_type">Number</span>
      <span class="dox_type">Object</span>
      <span>the set command as simple string/number or complex set command. More in <a href="http://mpneuried.github.io/mysql-dynamo/">API docs</a> section " Working with sets"</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">dlm</span>
      <span class="dox_type">String</span>
      <span>The delimiter within the field</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">String</span>
      <span>Return Desc </span>
    </div>
    <div class="dox_tag_title">API</div>
    <div class="dox_tag_detail">
      <span class="dox_type">private
</span>
    </span>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-970" id="line-970">970</a>  
<a class="line-num" href="#line-971" id="line-971">971</a>      <span class="nv">_generateSetCommand: </span><span class="nf">( key, inp, dlm )=&gt;</span>
<a class="line-num" href="#line-972" id="line-972">972</a>        <span class="nx">@log</span> <span class="s">&quot;debug&quot;</span><span class="p">,</span> <span class="s">&quot;_generateSetCommand&quot;</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">inp</span>
<a class="line-num" href="#line-973" id="line-973">973</a>        
<a class="line-num" href="#line-974" id="line-974">974</a>  
<a class="line-num" href="#line-975" id="line-975">975</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-82" id="section-82">&#182;</a>
</div>
<p>set empty</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-974" id="line-974">974</a>  
<a class="line-num" href="#line-975" id="line-975">975</a>        <span class="k">if</span> <span class="o">not</span> <span class="nx">inp</span><span class="o">?</span>
<a class="line-num" href="#line-976" id="line-976">976</a>          <span class="nx">mysql</span><span class="p">.</span><span class="nx">escape</span><span class="p">(</span> <span class="nx">dlm</span> <span class="p">)</span>
<a class="line-num" href="#line-977" id="line-977">977</a>        
<a class="line-num" href="#line-978" id="line-978">978</a>  
<a class="line-num" href="#line-979" id="line-979">979</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-83" id="section-83">&#182;</a>
</div>
<p>set by array</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-978" id="line-978">978</a>  
<a class="line-num" href="#line-979" id="line-979">979</a>        <span class="k">else</span> <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span> <span class="nx">inp</span> <span class="p">)</span>
<a class="line-num" href="#line-980" id="line-980">980</a>          <span class="k">if</span> <span class="o">not</span> <span class="nx">inp</span><span class="p">.</span><span class="nx">length</span> 
<a class="line-num" href="#line-981" id="line-981">981</a>  
<a class="line-num" href="#line-982" id="line-982">982</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-84" id="section-84">&#182;</a>
</div>
<p>set empty by empty array</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-981" id="line-981">981</a>  
<a class="line-num" href="#line-982" id="line-982">982</a>            <span class="nx">mysql</span><span class="p">.</span><span class="nx">escape</span><span class="p">(</span> <span class="nx">dlm</span> <span class="p">)</span>
<a class="line-num" href="#line-983" id="line-983">983</a>          <span class="k">else</span>
<a class="line-num" href="#line-984" id="line-984">984</a>  
<a class="line-num" href="#line-985" id="line-985">985</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-85" id="section-85">&#182;</a>
</div>
<p>reset by array</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-984" id="line-984">984</a>  
<a class="line-num" href="#line-985" id="line-985">985</a>            <span class="nx">mysql</span><span class="p">.</span><span class="nx">escape</span><span class="p">(</span> <span class="nx">dlm</span> <span class="o">+</span> <span class="nx">inp</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span> <span class="nx">dlm</span> <span class="p">)</span> <span class="o">+</span> <span class="nx">dlm</span> <span class="p">)</span>
<a class="line-num" href="#line-986" id="line-986">986</a>  
<a class="line-num" href="#line-987" id="line-987">987</a>  
<a class="line-num" href="#line-988" id="line-988">988</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-86" id="section-86">&#182;</a>
</div>
<p>set by object</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-987" id="line-987">987</a>  
<a class="line-num" href="#line-988" id="line-988">988</a>        <span class="k">else</span> <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isObject</span><span class="p">(</span> <span class="nx">inp</span> <span class="p">)</span>
<a class="line-num" href="#line-989" id="line-989">989</a>          <span class="k">if</span> <span class="nx">inp</span><span class="p">[</span> <span class="s">&quot;$reset&quot;</span> <span class="p">]</span>
<a class="line-num" href="#line-990" id="line-990">990</a>            <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span> <span class="nx">inp</span><span class="p">[</span> <span class="s">&quot;$reset&quot;</span> <span class="p">]</span> <span class="p">)</span>
<a class="line-num" href="#line-991" id="line-991">991</a>  
<a class="line-num" href="#line-992" id="line-992">992</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-87" id="section-87">&#182;</a>
</div>
<p>reset by $reset with an array</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-991" id="line-991">991</a>  
<a class="line-num" href="#line-992" id="line-992">992</a>              <span class="nx">mysql</span><span class="p">.</span><span class="nx">escape</span><span class="p">(</span> <span class="nx">dlm</span> <span class="o">+</span> <span class="nx">inp</span><span class="p">[</span> <span class="s">&quot;$reset&quot;</span> <span class="p">].</span><span class="nx">join</span><span class="p">(</span> <span class="nx">dlm</span> <span class="p">)</span> <span class="o">+</span> <span class="nx">dlm</span> <span class="p">)</span>
<a class="line-num" href="#line-993" id="line-993">993</a>            <span class="k">else</span>
<a class="line-num" href="#line-994" id="line-994">994</a>  
<a class="line-num" href="#line-995" id="line-995">995</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-88" id="section-88">&#182;</a>
</div>
<p>reset by $reset with a single value</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-994" id="line-994">994</a>  
<a class="line-num" href="#line-995" id="line-995">995</a>              <span class="nx">mysql</span><span class="p">.</span><span class="nx">escape</span><span class="p">(</span> <span class="nx">dlm</span> <span class="o">+</span> <span class="nx">inp</span><span class="p">[</span> <span class="s">&quot;$reset&quot;</span> <span class="p">]</span> <span class="o">+</span> <span class="nx">dlm</span> <span class="p">)</span>
<a class="line-num" href="#line-996" id="line-996">996</a>          <span class="k">else</span>
<a class="line-num" href="#line-997" id="line-997">997</a>  
<a class="line-num" href="#line-998" id="line-998">998</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-89" id="section-89">&#182;</a>
</div>
<p>run $add or $rem command</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-997" id="line-997">997</a>  
<a class="line-num" href="#line-998" id="line-998">998</a>            
<a class="line-num" href="#line-999" id="line-999">999</a>  
<a class="line-num" href="#line-1000" id="line-1000">1000</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-90" id="section-90">&#182;</a>
</div>
<p>define some vars</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-999" id="line-999">999</a>  
<a class="line-num" href="#line-1000" id="line-1000">1000</a>            <span class="nv">added = </span><span class="p">[]</span>
<a class="line-num" href="#line-1001" id="line-1001">1001</a>            <span class="nv">usedRem = </span><span class="kc">false</span>
<a class="line-num" href="#line-1002" id="line-1002">1002</a>  
<a class="line-num" href="#line-1003" id="line-1003">1003</a>  
<a class="line-num" href="#line-1004" id="line-1004">1004</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-91" id="section-91">&#182;</a>
</div>
<p>convert the key to a expression with the check for an empty field, because a field of type TEXT cannot have a default</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1003" id="line-1003">1003</a>  
<a class="line-num" href="#line-1004" id="line-1004">1004</a>            <span class="nv">_set = </span><span class="nx">@_generateSetCommandTmpls</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span> <span class="nx">key</span><span class="o">:</span><span class="nx">key</span><span class="p">,</span> <span class="nx">dlm</span><span class="o">:</span><span class="nx">dlm</span> <span class="p">)</span>
<a class="line-num" href="#line-1005" id="line-1005">1005</a>  
<a class="line-num" href="#line-1006" id="line-1006">1006</a>  
<a class="line-num" href="#line-1007" id="line-1007">1007</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-92" id="section-92">&#182;</a>
</div>
<p>prefix CONCAT content with the current value</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1006" id="line-1006">1006</a>  
<a class="line-num" href="#line-1007" id="line-1007">1007</a>            <span class="nv">_add = </span><span class="p">[</span> <span class="nx">_set</span> <span class="p">]</span>
<a class="line-num" href="#line-1008" id="line-1008">1008</a>            
<a class="line-num" href="#line-1009" id="line-1009">1009</a>  
<a class="line-num" href="#line-1010" id="line-1010">1010</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-93" id="section-93">&#182;</a>
</div>
<p>$add command by concat the current value with the new value expressions</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1009" id="line-1009">1009</a>  
<a class="line-num" href="#line-1010" id="line-1010">1010</a>            <span class="k">if</span> <span class="nx">inp</span><span class="p">[</span> <span class="s">&quot;$add&quot;</span> <span class="p">]</span><span class="o">?</span>
<a class="line-num" href="#line-1011" id="line-1011">1011</a>  
<a class="line-num" href="#line-1012" id="line-1012">1012</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-94" id="section-94">&#182;</a>
</div>
<p>if the content is an array generate multiple add statements</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1011" id="line-1011">1011</a>  
<a class="line-num" href="#line-1012" id="line-1012">1012</a>              <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span> <span class="nx">inp</span><span class="p">[</span> <span class="s">&quot;$add&quot;</span> <span class="p">]</span> <span class="p">)</span>
<a class="line-num" href="#line-1013" id="line-1013">1013</a>                <span class="k">for</span> <span class="nx">_inp</span> <span class="k">in</span> <span class="nx">_</span><span class="p">.</span><span class="nx">uniq</span><span class="p">(</span> <span class="nx">inp</span><span class="p">[</span> <span class="s">&quot;$add&quot;</span> <span class="p">]</span> <span class="p">)</span>
<a class="line-num" href="#line-1014" id="line-1014">1014</a>  
<a class="line-num" href="#line-1015" id="line-1015">1015</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-95" id="section-95">&#182;</a>
</div>
<p>set added flag to detect any changes</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1014" id="line-1014">1014</a>  
<a class="line-num" href="#line-1015" id="line-1015">1015</a>                  <span class="nx">added</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">_inp</span> <span class="p">)</span>
<a class="line-num" href="#line-1016" id="line-1016">1016</a>                  <span class="nx">_add</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">@_generateSetCommandTmpls</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span> <span class="nx">val</span><span class="o">:</span><span class="nx">_inp</span><span class="p">,</span> <span class="nx">set</span><span class="o">:</span><span class="nx">_set</span><span class="p">,</span> <span class="nx">dlm</span><span class="o">:</span><span class="nx">dlm</span> <span class="p">)</span> <span class="p">)</span>
<a class="line-num" href="#line-1017" id="line-1017">1017</a>              <span class="k">else</span>
<a class="line-num" href="#line-1018" id="line-1018">1018</a>  
<a class="line-num" href="#line-1019" id="line-1019">1019</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-96" id="section-96">&#182;</a>
</div>
<p>set added to detect any changes</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1018" id="line-1018">1018</a>  
<a class="line-num" href="#line-1019" id="line-1019">1019</a>                <span class="nx">added</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">inp</span><span class="p">[</span> <span class="s">&quot;$add&quot;</span> <span class="p">]</span> <span class="p">)</span>
<a class="line-num" href="#line-1020" id="line-1020">1020</a>                <span class="nx">_add</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span> <span class="nx">@_generateSetCommandTmpls</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span> <span class="nx">val</span><span class="o">:</span><span class="nx">inp</span><span class="p">[</span> <span class="s">&quot;$add&quot;</span> <span class="p">],</span> <span class="nx">set</span><span class="o">:</span><span class="nx">_set</span><span class="p">,</span> <span class="nx">dlm</span><span class="o">:</span><span class="nx">dlm</span> <span class="p">)</span> <span class="p">)</span>
<a class="line-num" href="#line-1021" id="line-1021">1021</a>              
<a class="line-num" href="#line-1022" id="line-1022">1022</a>  
<a class="line-num" href="#line-1023" id="line-1023">1023</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-97" id="section-97">&#182;</a>
</div>
<p>if any add has been generated overwritethe new set command</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1022" id="line-1022">1022</a>  
<a class="line-num" href="#line-1023" id="line-1023">1023</a>              <span class="nv">_set = </span><span class="s">&quot;CONCAT( </span><span class="si">#{</span> <span class="nx">_add</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span> <span class="s">&quot;, &quot;</span> <span class="p">)</span> <span class="si">}</span><span class="s"> )&quot;</span> <span class="k">if</span> <span class="nx">_add</span><span class="p">.</span><span class="nx">length</span>
<a class="line-num" href="#line-1024" id="line-1024">1024</a>            
<a class="line-num" href="#line-1025" id="line-1025">1025</a>  
<a class="line-num" href="#line-1026" id="line-1026">1026</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-98" id="section-98">&#182;</a>
</div>
<p>$rem command by nesting replace commands</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1025" id="line-1025">1025</a>  
<a class="line-num" href="#line-1026" id="line-1026">1026</a>            <span class="k">if</span> <span class="nx">inp</span><span class="p">[</span> <span class="s">&quot;$rem&quot;</span> <span class="p">]</span><span class="o">?</span>
<a class="line-num" href="#line-1027" id="line-1027">1027</a>  
<a class="line-num" href="#line-1028" id="line-1028">1028</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-99" id="section-99">&#182;</a>
</div>
<p>if the content is an array generate multiple rem statements</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1027" id="line-1027">1027</a>  
<a class="line-num" href="#line-1028" id="line-1028">1028</a>              <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span> <span class="nx">inp</span><span class="p">[</span> <span class="s">&quot;$rem&quot;</span> <span class="p">]</span> <span class="p">)</span>
<a class="line-num" href="#line-1029" id="line-1029">1029</a>                <span class="k">for</span> <span class="nx">_inp</span> <span class="k">in</span> <span class="nx">_</span><span class="p">.</span><span class="nx">difference</span><span class="p">(</span> <span class="nx">_</span><span class="p">.</span><span class="nx">uniq</span><span class="p">(</span> <span class="nx">inp</span><span class="p">[</span> <span class="s">&quot;$rem&quot;</span> <span class="p">]</span> <span class="p">),</span> <span class="nx">added</span> <span class="p">)</span>
<a class="line-num" href="#line-1030" id="line-1030">1030</a>  
<a class="line-num" href="#line-1031" id="line-1031">1031</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-100" id="section-100">&#182;</a>
</div>
<p>set usedRem to detect any removes</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1030" id="line-1030">1030</a>  
<a class="line-num" href="#line-1031" id="line-1031">1031</a>                  <span class="nv">usedRem = </span><span class="kc">true</span>
<a class="line-num" href="#line-1032" id="line-1032">1032</a>                  <span class="nv">_set = </span><span class="nx">@_generateSetCommandTmpls</span><span class="p">.</span><span class="nx">rem</span><span class="p">(</span> <span class="nx">val</span><span class="o">:</span><span class="nx">_inp</span><span class="p">,</span> <span class="nx">set</span><span class="o">:</span><span class="nx">_set</span><span class="p">,</span> <span class="nx">dlm</span><span class="o">:</span><span class="nx">dlm</span> <span class="p">)</span>
<a class="line-num" href="#line-1033" id="line-1033">1033</a>              <span class="k">else</span>
<a class="line-num" href="#line-1034" id="line-1034">1034</a>  
<a class="line-num" href="#line-1035" id="line-1035">1035</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-101" id="section-101">&#182;</a>
</div>
<p>set usedRem to detect any removes</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1034" id="line-1034">1034</a>  
<a class="line-num" href="#line-1035" id="line-1035">1035</a>                <span class="nv">usedRem = </span><span class="kc">true</span>
<a class="line-num" href="#line-1036" id="line-1036">1036</a>                <span class="nv">_set = </span><span class="nx">@_generateSetCommandTmpls</span><span class="p">.</span><span class="nx">rem</span><span class="p">(</span> <span class="nx">val</span><span class="o">:</span><span class="nx">inp</span><span class="p">[</span> <span class="s">&quot;$rem&quot;</span> <span class="p">],</span> <span class="nx">set</span><span class="o">:</span><span class="nx">_set</span><span class="p">,</span> <span class="nx">dlm</span><span class="o">:</span><span class="nx">dlm</span> <span class="p">)</span>
<a class="line-num" href="#line-1037" id="line-1037">1037</a>            
<a class="line-num" href="#line-1038" id="line-1038">1038</a>  
<a class="line-num" href="#line-1039" id="line-1039">1039</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-102" id="section-102">&#182;</a>
</div>
<p>return <code>null</code> if nothing has to be changed</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1038" id="line-1038">1038</a>  
<a class="line-num" href="#line-1039" id="line-1039">1039</a>            <span class="k">if</span> <span class="nx">added</span><span class="p">.</span><span class="nx">length</span> <span class="o">or</span> <span class="nx">usedRem</span>
<a class="line-num" href="#line-1040" id="line-1040">1040</a>              <span class="nx">_set</span>
<a class="line-num" href="#line-1041" id="line-1041">1041</a>            <span class="k">else</span> 
<a class="line-num" href="#line-1042" id="line-1042">1042</a>              <span class="kc">null</span>
<a class="line-num" href="#line-1043" id="line-1043">1043</a>  
<a class="line-num" href="#line-1044" id="line-1044">1044</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-103" id="section-103">&#182;</a>
</div>
<p>set by string or number</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1043" id="line-1043">1043</a>  
<a class="line-num" href="#line-1044" id="line-1044">1044</a>        <span class="k">else</span> <span class="k">if</span> <span class="nx">inp</span><span class="o">?</span>
<a class="line-num" href="#line-1045" id="line-1045">1045</a>           <span class="nx">mysql</span><span class="p">.</span><span class="nx">escape</span><span class="p">(</span> <span class="nx">dlm</span> <span class="o">+</span> <span class="nx">inp</span> <span class="o">+</span> <span class="nx">dlm</span> <span class="p">)</span>
<a class="line-num" href="#line-1046" id="line-1046">1046</a>  
<a class="line-num" href="#line-1047" id="line-1047">1047</a>  
<a class="line-num" href="#line-1048" id="line-1048">1048</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-104" id="section-104">&#182;</a>
</div>
<p>noting to set</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1047" id="line-1047">1047</a>  
<a class="line-num" href="#line-1048" id="line-1048">1048</a>        <span class="k">else</span>
<a class="line-num" href="#line-1049" id="line-1049">1049</a>          <span class="kc">null</span>
<a class="line-num" href="#line-1050" id="line-1050">1050</a>  
<a class="line-num" href="#line-1051" id="line-1051">1051</a>  
<a class="line-num" href="#line-1052" id="line-1052">1052</a>  
<a class="line-num" href="#line-1053" id="line-1053">1053</a>  </pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap" id="error%20message%20mapping">
  <h1>
    <a href="#error%20message%20mapping" name="error%20message%20mapping" class="pilcrow">&#182;</a>
    Error message mapping
  </h1>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre><a class="line-num" href="#line-1052" id="line-1052">1052</a>  
<a class="line-num" href="#line-1053" id="line-1053">1053</a>      <span class="nv">ERRORS: </span><span class="o">=&gt;</span>
<a class="line-num" href="#line-1054" id="line-1054">1054</a>        <span class="nx">@extend</span> <span class="k">super</span><span class="p">,</span> 
<a class="line-num" href="#line-1055" id="line-1055">1055</a>          <span class="s">&quot;no-tables&quot;</span><span class="o">:</span> <span class="s">&quot;No table defined&quot;</span>
<a class="line-num" href="#line-1056" id="line-1056">1056</a>          <span class="s">&quot;no-hash&quot;</span><span class="o">:</span> <span class="s">&quot;No hash defined&quot;</span>
<a class="line-num" href="#line-1057" id="line-1057">1057</a>  </pre></div>
        </td>
      </tr>
  </tbody>
</table>
  </div>
</body>
</html>
